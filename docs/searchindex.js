Search.setIndex({"docnames": ["advanced_functionality", "api", "installation", "intro", "simulations", "training_reflectorch", "using_reflectorch", "using_reflectorch_neutron"], "filenames": ["advanced_functionality.ipynb", "api.rst", "installation.ipynb", "intro.md", "simulations.ipynb", "training_reflectorch.ipynb", "using_reflectorch.ipynb", "using_reflectorch_neutron.ipynb"], "titles": ["<span class=\"section-number\">6. </span>Advanced functionality", "<span class=\"section-number\">7. </span>API Reference", "<span class=\"section-number\">1. </span>Installation", "Reflectorch", "<span class=\"section-number\">2. </span>Simulations", "<span class=\"section-number\">5. </span>Training a reflectorch model", "<span class=\"section-number\">3. </span>Using a trained reflectorch model", "<span class=\"section-number\">4. </span>Neutron reflectometry use"], "terms": {"import": [0, 4, 5, 6, 7], "numpi": [0, 1, 2, 4, 5, 6, 7], "np": [0, 1, 4, 5, 6, 7], "torch": [0, 1, 2, 4, 5, 6, 7], "matplotlib": [0, 2, 4, 5, 6, 7], "pyplot": [0, 4, 5, 6, 7], "plt": [0, 4, 5, 6, 7], "from": [0, 1, 2, 3, 4, 6, 7], "ipywidget": [0, 2, 6], "interact": [0, 5, 6], "reflectorch": [0, 1, 2, 4, 7], "extens": [0, 1, 5, 6], "jupyt": [0, 1, 5], "jplotloss": [0, 5], "manual_se": [0, 6, 7], "0": [0, 1, 4, 5, 6, 7], "set": [0, 1, 5, 6, 7], "seed": [0, 6, 7], "reproduc": [0, 6, 7], "In": [0, 4, 5, 6, 7], "thi": [0, 1, 2, 3, 4, 5, 6, 7], "section": [0, 5, 6], "we": [0, 4, 5, 6, 7], "describ": [0, 5, 6], "implement": [0, 1, 3, 5, 6], "i": [0, 1, 2, 3, 4, 5, 6, 7], "e": [0, 1, 2, 3, 4, 5, 6, 7], "other": [0, 1, 3, 5, 6], "than": [0, 1, 5], "standard": [0, 1, 5, 6, 7], "box": [0, 1, 5, 6], "The": [0, 1, 2, 3, 4, 6, 7], "default": [0, 1, 2, 4, 5, 6], "present": 0, "previou": [0, 1, 5, 7], "take": [0, 1, 4, 5, 6], "account": [0, 1, 5, 6], "onli": [0, 1, 2, 6], "real": [0, 1, 4, 5, 6, 7], "part": [0, 1, 3, 7], "neglect": 0, "imaginari": [0, 1], "which": [0, 1, 2, 3, 4, 5, 6, 7], "relat": [0, 3], "scatter": [0, 1, 5, 6], "medium": [0, 1, 4], "while": [0, 1], "reason": [0, 6], "approxim": [0, 5], "mani": 0, "case": [0, 1, 4, 5, 6, 7], "ar": [0, 1, 2, 4, 5, 6, 7], "abl": 0, "alter": 0, "also": [0, 4, 5, 6, 7], "incorpor": [0, 3], "constant": [0, 1, 5, 7], "valu": [0, 1, 4, 5, 6, 7], "each": [0, 1, 4, 5, 6], "layer": [0, 1, 4, 5, 6, 7], "can": [0, 2, 4, 5, 6], "initi": [0, 1, 5, 6, 7], "make": [0, 6], "follow": [0, 2, 4, 5, 6, 7], "chang": [0, 1, 5, 6], "yaml": [0, 1, 6, 7], "configur": [0, 1, 7], "file": [0, 1, 5, 7], "firstli": 0, "model_nam": [0, 1, 5, 6], "argument": [0, 1, 4, 5, 6, 7], "prior": [0, 1, 3, 5, 6, 7], "sampler": [0, 1, 6], "model_with_absorpt": 0, "instead": [0, 1, 4, 5, 6], "standard_model": [0, 5, 6, 7], "addit": [0, 1, 3, 5, 6, 7], "paramet": [1, 3, 4, 5, 6, 7], "rang": [0, 1, 4, 5, 6, 7], "bound": [0, 1, 5, 6, 7], "width": [0, 1, 5, 6, 7], "isld": 0, "must": [0, 1, 5, 6], "specifi": [0, 1, 5, 6], "If": [0, 1, 2, 4, 5, 6], "constrained_isld": 0, "true": [0, 1, 4, 5, 6, 7], "constrain": [0, 1, 5], "exce": [0, 1, 5], "predefin": 0, "fraction": [0, 1, 5], "max_sld_shar": [0, 1], "note": 0, "constrained_rough": [0, 5], "dset": [0, 1, 5, 6], "cl": [0, 5, 6], "reflectivitydataload": [0, 1, 5], "prior_sampl": [0, 1, 5, 6, 7], "subpriorparametricsampl": [0, 1, 5], "kwarg": [0, 1, 5, 6], "param_rang": [0, 1, 5, 6], "thick": [0, 1, 4, 5, 6, 7], "1": [0, 1, 4, 5, 6, 7], "500": [0, 1, 5, 6, 7], "rough": [0, 1, 4, 5, 6, 7], "60": [0, 4, 5, 6, 7], "150": [0, 4], "30": [0, 4, 6, 7], "bound_width_rang": [0, 1, 5], "0e": [0, 1, 5], "2": [0, 1, 3, 4, 5, 6, 7], "5": [0, 1, 4, 5, 6, 7], "max_num_lay": [0, 1, 5, 6, 7], "max_thickness_shar": [0, 1, 5], "logdist": [0, 1, 5], "fals": [0, 1, 4, 5, 6, 7], "scale_params_by_rang": [0, 1, 5], "scaled_rang": [0, 1, 5], "devic": [0, 1, 4, 5, 6, 7], "cuda": [0, 1, 2, 4, 5, 6], "For": [0, 1, 2, 5, 6, 7], "without": [0, 1, 2, 6], "neural": [0, 1, 3, 5, 6], "had": 0, "predict": [0, 1, 5, 6, 7], "8": [0, 1, 5, 6, 7], "3": [0, 1, 2, 4, 5, 6, 7], "when": [0, 1, 5, 6, 7], "consid": [0, 1, 5, 6, 7], "have": [0, 1, 2, 4, 6, 7], "output": [0, 1, 5, 6], "sum": [0, 5], "up": [0, 1], "total": [0, 1, 5, 6, 7], "11": [0, 6, 7], "comput": [0, 1, 4, 5, 6], "higher": [0, 4, 5], "number": [0, 1, 3, 4, 5, 6, 7], "analog": 0, "thu": [0, 6], "architectur": [0, 1, 5], "reflect": [0, 1, 3, 4, 5, 6, 7], "input": [0, 1, 3, 4, 5, 6, 7], "dimension": [0, 1], "exampl": [0, 6], "dim_out": [0, 1, 5], "networkwithprior": [0, 1, 5], "pretrained_nam": [0, 5], "null": [0, 5], "embedding_net_typ": [0, 1, 5], "conv": [0, 1, 5], "embedding_net_kwarg": [0, 1, 5], "in_channel": [0, 1, 5], "hidden_channel": [0, 1, 5], "32": [0, 1, 5, 6], "64": [0, 1, 5, 6], "128": [0, 1, 5, 6, 7], "256": [0, 1, 4, 5, 7], "512": [0, 1, 5], "kernel_s": [0, 1, 5], "dim_embed": [0, 1, 5], "dim_avpool": [0, 1, 5], "use_batch_norm": [0, 1, 5], "activ": [0, 1, 5], "gelu": [0, 1, 5, 6], "pretrained_embedding_net": [0, 1, 5], "dim_conditioning_param": [0, 1, 5], "layer_width": [0, 1, 5], "num_block": [0, 1, 5], "6": [0, 1, 4, 5, 6, 7], "repeats_per_block": [0, 1, 5], "residu": [0, 1, 5], "use_layer_norm": [0, 1, 5], "mlp_activ": [0, 1, 5, 6], "condit": [0, 1, 5], "concat": [0, 1, 5], "suitabl": [0, 2, 6, 7], "get_trainer_by_nam": [0, 1, 5, 6], "config_nam": [0, 1, 5, 6, 7], "a_base_point_xray_conv_absorpt": 0, "load_weight": [0, 1, 5, 6], "load": [0, 1, 6, 7], "84": [0, 6], "m": [0, 5, 6, 7], "observ": [0, 5, 6], "parametr": [0, 1], "modelwithabsorpt": 0, "strategi": [0, 1], "constrainedroughnessandimgsldsamplerstrategi": [0, 1], "loader": [0, 1, 5, 6, 7], "param_model": [0, 1], "sampler_strategi": [0, 1], "data_gener": 0, "parametric_model": 0, "0x1ee366ffcd0": [], "0x1ee366ffe50": [], "batch_siz": [0, 1, 4, 5, 6], "simulated_data": [0, 6], "get_batch": [0, 1, 6], "n_layer": [0, 1, 4, 6, 7], "param": [0, 1, 6], "max_layer_num": [0, 1, 6], "n_param": [0, 1, 6], "num_param": [0, 1, 6], "print": [0, 1, 4, 6, 7], "f": [0, 4, 6, 7], "film": [0, 1, 3, 5, 6], "data": [0, 1, 3, 4, 5, 7], "type": [0, 1, 4, 5, 6, 7], "str": [0, 1, 5], "dtype": [0, 1, 4, 6], "img": 0, "properli": 0, "respect": [0, 5, 6], "_is_all_tru": 0, "imag": 0, "item": [0, 4], "complex128": [0, 4], "tensor": [0, 1, 4, 6], "complex": [0, 1, 4], "now": [0, 6, 7], "lead": 0, "round": 0, "edg": 0, "smooth": 0, "off": 0, "oscil": 0, "curv": [0, 1, 3, 4, 5, 6, 7], "q": [0, 1, 4, 5, 6, 7], "to_np": [0, 1], "q_valu": [0, 1, 6, 7], "scaled_noisy_curv": [0, 1, 6], "fig": [0, 4, 6, 7], "ax": [0, 4, 6, 7], "subplot": [0, 4, 6, 7], "figsiz": [0, 4, 6, 7], "12": [0, 4, 6, 7], "set_ylim": [0, 4, 6], "set_xlabel": [0, 4, 6, 7], "\u00e5": [0, 4, 6, 7], "fontsiz": [0, 4, 6, 7], "18": [0, 6], "set_ylabel": [0, 4, 6, 7], "r": [0, 1, 4, 5, 6, 7], "_": [0, 6], "scale": [0, 1, 3, 4, 5, 6, 7], "tick_param": [0, 4, 6, 7], "axi": [0, 1, 4, 6, 7], "both": [0, 1, 4, 5, 6, 7], "major": [0, 4, 6, 7], "labels": [0, 4, 6, 7], "14": [0, 4, 6, 7], "c": [0, 1, 4, 5, 6, 7], "blue": [0, 4, 6, 7], "": [0, 2, 4, 6], "z_axi": [0, 1, 6], "linspac": [0, 4, 6], "200": [0, 4, 6], "1000": [0, 1, 5, 6, 7], "sld_profile_r": 0, "get_density_profil": [0, 1, 6], "sld_profile_imag": 0, "plot": [0, 1, 4, 6, 7], "cyan": 0, "label": [0, 1, 4, 6, 7], "re": 0, "violet": 0, "im": 0, "z": [0, 1, 6, 7], "20": [0, 4, 6, 7], "10": [0, 1, 3, 4, 5, 6, 7], "15": [0, 1, 4, 5, 6, 7], "minor": [0, 4, 6, 7], "legend": [0, 4, 6, 7], "tight_layout": [0, 4, 7], "address": [0, 6], "commonli": 0, "encount": 0, "scenario": [0, 5, 7], "thin": [0, 1, 3, 5, 6], "On": 0, "top": [0, 1, 4, 6, 7], "silicon": [0, 6, 7], "oxid": [0, 6, 7], "substrat": [0, 1, 4, 5, 6, 7], "compos": [0, 7], "ident": 0, "grei": 0, "figur": 0, "consist": [0, 1, 5, 6], "two": [0, 1, 4, 5, 6], "distinct": 0, "A": [0, 1, 4, 5, 7], "sigmoid": 0, "envelop": 0, "modul": [0, 1, 5], "defin": [0, 1, 4, 6], "interfac": [0, 1, 5], "green": [0, 4, 6, 7], "second": [0, 1], "amplitud": [0, 1], "displac": 0, "posit": [0, 1, 6], "first": [0, 1, 5, 6], "red": [0, 4, 7], "These": 0, "allow": [0, 1, 3, 5, 6, 7], "one": [0, 1, 2, 5, 6], "coher": 0, "order": [0, 1, 4, 6, 7], "certain": 0, "get": [0, 1, 6], "incoher": 0, "amorph": 0, "toward": [0, 5], "between": [0, 1, 4, 5, 6, 7], "multilay": [0, 5, 7], "phase": [0, 1, 3], "introduc": [0, 1, 6, 7], "structur": [0, 4, 6], "doe": [0, 5], "necessarili": 0, "17": [0, 5, 6, 7], "physic": [0, 1, 4, 6], "descript": 0, "togeth": [0, 2, 5, 6], "correspond": [0, 1, 5, 6, 7], "alia": [0, 1], "being": [0, 1, 6, 7], "shown": 0, "tabl": 0, "stack": [0, 4], "d_block": 0, "rel": [0, 1, 4, 5], "wrt": 0, "s_block_rel": 0, "r_block": 0, "differ": [0, 1, 4, 5, 6], "dr": [0, 7], "belong": 0, "d_block1_rel": 0, "s_si": 0, "r_si": 0, "d_sio2": 0, "s_sio2": 0, "r_sio2": 0, "r3": 0, "d3_rel": 0, "s3_rel": 0, "d_full_rel": 0, "rel_sigma": 0, "dr_sigmoid_rel_po": 0, "dr_sigmoid_rel_width": 0, "repeating_multilayer_v3": 0, "high": [0, 7], "repres": [0, 1, 5], "maximum": [0, 1, 4, 5, 6], "g": [0, 1, 4, 5, 6], "abov": [0, 1, 5, 6], "show": [0, 5, 6], "subkei": [0, 1, 5, 6], "25": [0, 1, 6], "01": [0, 1, 5, 6, 7], "99": [0, 6], "19": [0, 6], "21": [0, 6, 7], "dimens": [0, 1, 5], "dropout_r": [0, 1, 5], "here": [0, 4, 5, 6, 7], "an": [0, 1, 2, 3, 4, 5, 6, 7], "extend": [0, 1], "c_repeating_multilay": 0, "85": [0, 6, 7], "max": [0, 1, 4, 6, 7], "sld_profil": 0, "cpu": [0, 1, 2, 4, 5, 6, 7], "b": [0, 4, 5, 6, 7], "ground": [0, 5, 6], "truth": [0, 5, 6], "inference_model": [0, 6, 7], "easyinferencemodel": [0, 1, 6, 7], "c_repeating_multilayer_trained1": 0, "d": [0, 1, 6, 7], "github": [0, 2, 6, 7], "project": [0, 3, 6, 7], "config": [0, 1, 5, 6, 7], "found": [0, 1, 6, 7], "local": [0, 1, 6, 7], "weight": [0, 1, 5, 6, 7], "saved_model": [0, 1, 6, 7], "model_c_repeating_multilayer_trained1": 0, "safetensor": [0, 1, 2, 5, 6, 7], "interv": [0, 1, 5, 6, 7], "min": [0, 1, 6, 7], "wa": [0, 1, 2, 3, 5, 6, 7], "discret": [0, 1, 5, 6, 7], "uniform": [0, 6, 7], "point": [0, 1, 4, 5, 6, 7], "q_min": [0, 1, 5, 6, 7], "02": [0, 4, 5, 6, 7], "q_max": [0, 1, 5, 6, 7], "quantiti": [0, 1, 6, 7], "experiment": [1, 7], "multilayer_data_path": 0, "exp_data": [0, 6, 7], "dip": 0, "nsi_34a": 0, "dat": [0, 7], "genfromtxt": 0, "delimit": [0, 5, 6, 7], "t": [0, 6, 7], "skip_head": 0, "unpack": 0, "q_val": 0, "intensity_v": 0, "interp_rang": 0, "interp_point": 0, "q_interp": [0, 1], "min_q_idx": 0, "ab": [0, 1, 4], "argmin": 0, "max_q_idx": 0, "exp_curve_interp": [0, 6, 7], "interp_reflect": [0, 1, 7], "q_model": [0, 6, 7], "q_gener": [0, 1, 5, 6], "prior_bound": [0, 1, 6, 7], "center": [0, 1, 5], "unit": [0, 1, 4, 6], "9": [0, 5, 6, 7], "box1": 0, "16": [0, 5, 6, 7], "05": [0, 4, 5, 6, 7], "box2": 0, "sio2": 0, "si": [0, 7], "prediction_dict": [0, 6, 7], "reflectivity_curv": [0, 1, 6, 7], "clip_predict": [0, 1, 6, 7], "calc_pred_curv": [0, 1, 6, 7], "calc_pred_sld_profil": [0, 1, 7], "pred_param": [0, 6, 7], "predicted_params_arrai": [0, 6, 7], "pred_curv": [0, 6, 7], "predicted_curv": [0, 6, 7], "pred_sld_xaxi": 0, "predicted_sld_xaxi": [0, 7], "pred_sld_profil": 0, "predicted_sld_profil": [0, 7], "param_nam": [0, 6, 7], "param_v": 0, "zip": [0, 6, 7], "ljust": [0, 6, 7], "2f": [0, 6, 7], "set_yscal": [0, 4, 6, 7], "log": [0, 1, 4, 6, 7], "5e": [0, 4, 6], "y_tick_loc": [0, 4, 6, 7], "yaxi": [0, 4, 6, 7], "set_major_loc": [0, 4, 6, 7], "fixedloc": [0, 4, 6, 7], "interp": [0, 6, 7], "exp": [0, 6, 7], "lw": [0, 4, 6, 7], "pred": [0, 6, 7], "loc": [0, 4, 6, 7], "upper": [0, 1, 4, 6, 7], "right": [0, 4, 6, 7], "75": [0, 6], "74": [0, 6], "80": [0, 6], "06": [0, 1, 7], "76": [0, 6], "56": 7, "41": [0, 6], "58": [0, 6], "7": [0, 2, 5, 6, 7], "33": [0, 6], "83": [0, 7], "4": [0, 1, 4, 5, 6, 7], "52": [0, 6], "kei": [0, 1, 5, 6, 7], "dict_kei": [0, 5, 6, 7], "predicted_params_object": [0, 6, 7], "role": 0, "process": [0, 1, 5, 6], "produc": [0, 1, 5], "latent": [0, 1, 5], "represent": [0, 1], "fed": 0, "main": 0, "fulli": 0, "connect": [0, 1, 5], "mlp": [0, 1, 5], "obtain": [0, 1, 6], "1d": [0, 1, 5], "cnn": [0, 1, 5], "work": 3, "fix": [1, 5, 6], "been": [0, 1], "alreadi": [0, 1, 6], "explain": 0, "fno": [0, 1, 5], "inspir": 0, "fourier": [0, 1], "oper": [0, 1, 2], "It": [0, 1, 2, 4, 5, 6], "u": 0, "variabl": [0, 1, 5], "base": [0, 1, 2, 3, 5, 6], "ha": [0, 1, 2, 4, 5, 6, 7], "variableq": [0, 1, 5], "Its": [0, 5], "q_min_rang": [0, 1], "sampl": [0, 1, 4, 5, 6], "minimum": [0, 1, 5, 6], "q_max_rang": [0, 1], "n_q_rang": [0, 1], "equidistantli": [0, 1, 5], "vari": [0, 1], "batch": [0, 1, 4, 5, 6], "within": [0, 1, 5], "03": [0, 1, 6, 7], "keep": 0, "intact": 0, "keyword": [0, 1, 5, 7], "provid": [0, 1, 4, 5, 6, 7], "specif": [0, 1, 5, 6, 7], "channel": [0, 1, 5], "should": [0, 1, 2, 5, 6], "width_fno": [0, 1], "block": [0, 1, 5], "n_fno_block": [0, 1], "mode": [0, 1, 2, 5, 6], "util": 0, "fusion_self_attent": [0, 1], "fusion": [0, 1], "after": [0, 1, 5, 6], "final": 0, "fsa_activ": [0, 1], "self": [0, 1], "attent": [0, 1], "train_with_q_input": [0, 5, 6], "trainer_kwarg": [0, 5], "trainer_cl": [0, 5], "pointestimatortrain": [0, 1, 5, 6], "num_iter": [0, 5], "10000": [0, 1, 5], "4096": [0, 5], "lr": [0, 1, 5], "grad_accumulation_step": [0, 1, 5], "clip_grad_norm_max": [0, 1, 5], "update_tqdm_freq": [0, 1, 5], "optim": [0, 1, 5], "adamw": [0, 5], "perform": [0, 1, 3, 4, 5, 6, 7], "previous": [0, 3, 5, 6], "tutori": [0, 7], "mc": [0, 6], "o4": [0, 6], "model_mc": 0, "61": [0, 7], "50": [0, 1, 5, 6, 7], "loadtxt": [0, 6, 7], "data_ptcdi": [0, 6], "c3": [0, 6], "txt": [0, 6], "skiprow": [0, 6, 7], "q_exp": [0, 6, 7], "curve_exp": [0, 6, 7], "shape": [0, 1, 4, 6, 7], "400": [0, 6], "bottom": [0, 1, 4, 6, 7], "interlay": [0, 1, 4, 6, 7], "13": [0, 4, 6], "polish_predict": [0, 1, 6, 7], "141": [0, 6], "0142368058": [0, 6], "213456644": [0, 6], "facecolor": [0, 6], "none": [0, 1, 5, 6, 7], "edgecolor": [0, 6], "polished_curv": [0, 6, 7], "orang": [0, 4, 6, 7], "polish": [0, 1, 6, 7], "l2": [0, 4, 6, 7], "186": 0, "l1": [0, 4, 6, 7], "87": [0, 6, 7], "92": [0, 6, 7], "sub": [0, 4, 6, 7], "71": [0, 6], "53": [0, 6, 7], "data_c60": [0, 6], "91": [0, 6, 7], "142432068": 0, "By": [0, 1, 2, 6], "class": [0, 1, 5, 6, 7], "object": [0, 1, 5, 6, 7], "whose": 0, "purpos": [0, 1, 2], "regress": [0, 1], "problem": [0, 1, 3], "encod": [0, 1], "denoisingaetrain": 0, "select": [0, 1, 2, 6], "appropri": [0, 2], "task": 0, "convautoencod": 0, "encoder_hidden_channel": 0, "decoder_hidden_channel": 0, "dim_lat": 0, "decoder_in_s": 0, "num_q_point": [0, 5], "c_ae": 0, "ml": [0, 1, 3, 5, 6], "0x000001ee92171dc0": [], "convencod": [0, 1, 5], "core": [0, 2, 5], "sequenti": [0, 5], "conv1d": [0, 5], "stride": [0, 5], "pad": [0, 5], "batchnorm1d": [0, 5], "ep": [0, 1, 5], "1e": [0, 1, 5, 6], "momentum": [0, 1, 4, 5], "affin": [0, 1, 5], "track_running_stat": [0, 5], "avpool": [0, 5], "adaptiveavgpool1d": [0, 5], "output_s": [0, 5], "fc": [0, 5], "linear": [0, 1, 5], "in_featur": [0, 5], "out_featur": [0, 5], "bia": [0, 1, 5], "decod": 0, "convdecod": 0, "decoder_input": 0, "2048": 0, "convtranspose1d": 0, "output_pad": 0, "final_lay": 0, "sld": [1, 4, 5, 6, 7], "sourc": [1, 5], "abstractparam": 1, "bool": 1, "directli": [1, 2, 5], "option": [1, 2, 4, 5], "whether": [1, 5], "appli": [1, 3, 4, 5], "logarithm": [1, 5], "return": [1, 6], "simul": [1, 3, 5, 6, 7], "scale_with_q": 1, "q_ratio": 1, "float": [1, 4, 5, 6, 7], "ratio": 1, "properti": [1, 6, 7], "d_rho": 1, "neighbor": 1, "as_tensor": 1, "use_drho": 1, "convert": [1, 5], "instanc": [1, 5, 6], "pytorch": [1, 2, 3, 5, 6], "classmethod": 1, "from_tensor": 1, "contain": [1, 4, 5, 6], "static": 1, "size2layers_num": 1, "size": [1, 4, 5, 6], "int": [1, 4], "layers_num2s": 1, "layers_num": 1, "get_param_label": 1, "list": [0, 1, 2, 5, 6], "opposit": 1, "priorsampl": 1, "param_cl": 1, "param_dim": 1, "scale_param": 1, "friendli": [1, 5, 6], "restore_param": [1, 6], "scaled_param": [1, 6], "restor": [1, 6], "origin": 1, "basicdataset": 1, "qgener": 1, "intensity_nois": [1, 5], "intensitynoisegener": 1, "q_nois": [1, 5], "qnoisegener": 1, "curves_scal": [1, 5, 6], "curvesscal": 1, "calc_denoised_curv": [1, 6], "calc_nonsmeared_curv": 1, "smear": [1, 5], "contrasts_gener": [], "contrastsgener": [], "pa_eff_gener": [], "paeffgener": [], "pointwise_dq_gener": [], "deltaqgener": [], "time_gener": [], "timegener": [], "reflectometri": [0, 1, 3], "dataset": 1, "gener": [1, 4, 5], "nois": [1, 5, 6], "transfer": [0, 1, 4, 5], "intens": [0, 1, 4, 5, 7], "scaler": 1, "logaffinecurvesscal": [1, 5], "add": [1, 5], "dictionari": [0, 1, 5, 6], "update_batch_data": 1, "batch_data": 1, "dict": 1, "basicparam": [1, 6], "subclass": 1, "edit": [1, 2, 5, 6], "inplac": 1, "constantq": [1, 5], "tupl": [1, 5, 6], "float64": [1, 4, 6], "remove_zero": 1, "fixed_zero": 1, "union": [1, 3], "num_q": 1, "default_devic": 1, "default_dtyp": 1, "do": 1, "includ": [0, 1, 4, 5, 6], "end": 1, "lower": [1, 5], "context": [1, 3], "scale_q": [1, 6], "unscal": [1, 6], "equidist": [1, 5], "processdata": 1, "multiplicativelognormalnoisegener": [], "std": [], "add_to_context": [1, 5], "r_n": [], "epsilon": [], "where": [1, 5, 7], "normal": [0, 1, 4, 5, 6], "distribut": [1, 2, 5], "sim": [4, 6], "mathcal": [], "n": [], "space": [0, 1, 3, 5, 6], "translat": [], "log_b": [], "deviat": [1, 5], "same": [1, 5], "all": [1, 5, 6, 7], "uniformli": [1, 5], "poissonnoisegener": [], "relative_error": [1, 5], "35": [6, 7], "abs_error": [], "08": [1, 5, 6], "consistent_rel_err": [1, 5], "poisson": [1, 5], "error": [0, 1, 4, 5, 7], "small": [], "ad": [1, 4, 5, 6], "prevent": [], "divis": [], "zero": 7, "us": [1, 3, 4, 5], "accord": [1, 5, 6], "transform": 1, "log_": [1, 5], "cdot": 1, "multipl": [0, 1, 4, 5], "factor": [0, 1, 4, 5, 7], "term": [0, 1], "scale_sigma": [], "sigma": 1, "sigmas_to_ml_rang": [], "scaled_sigma": [], "further": [1, 5, 6], "sigam": [], "approx": [], "meannormalizationcurvesscal": 1, "path": [1, 5, 6], "curves_mean": 1, "precomput": 1, "mean": [1, 4, 6, 7], "save": [1, 5, 6], "num": 1, "16384": 1, "profil": [1, 5, 6], "deriv": [], "its": [1, 5, 6, 7], "ambient": [1, 4], "insid": [1, 5, 6], "custom": 1, "depth": [1, 3], "densiti": 6, "rho": 4, "drho": [], "dz": 1, "dq": [1, 4, 5, 7], "gauss_num": [1, 4, 5], "51": [1, 4, 6], "constant_dq": [1, 4, 5], "q_shift": [0, 1, 4], "r_scale": [0, 1, 4, 7], "background": [0, 1, 4, 5, 7], "abeles_func": 1, "abeles_kwarg": 1, "function": [1, 3, 4, 5, 6, 7], "fast": 1, "abel": 1, "matrix": 1, "formal": 1, "n_point": [1, 4], "exclud": [1, 4], "assum": [1, 4, 6, 7], "resolut": [1, 5], "either": [1, 4, 5, 6], "gaussian": [1, 4, 5], "otherwis": [1, 3, 5, 6], "misalign": [0, 1, 4, 5], "callabl": 1, "chosen": [1, 5], "sigma_rang": [1, 5], "31": [1, 6, 7], "share_smear": [1, 5], "averag": [1, 5], "neighbour": [1, 5], "given": [1, 5, 6], "interpol": [1, 6, 7], "share": [1, 5, 6], "scale_resolut": 1, "intern": [1, 3], "loglikelihood": 1, "exp_curv": 1, "likelihood": 1, "bar": [1, 5, 7], "calc_log_likelihood": 1, "calc_log_posterior": 1, "call": [1, 5, 6], "poissonloglikelihood": [], "basicexpintensitynois": [], "001": [1, 5, 6, 7], "scale_rang": [], "shift_rang": [1, 5], "002": [0, 1], "background_rang": [1, 5], "apply_shift": [1, 5], "apply_sc": [], "apply_background": [1, 5], "composit": 1, "shift": [0, 1, 4, 5, 6, 7], "combin": [1, 5], "four": [], "count": [1, 5], "common": [0, 1], "photon": [], "experi": [0, 3, 4, 5], "equival": [1, 5], "vertic": [1, 5], "stretch": [], "compress": [], "2e": 1, "across": [1, 5], "basicqnoisegener": [1, 5], "apply_systematic_shift": 1, "shift_std": [1, 5], "apply_gaussian_nois": 1, "noise_std": [1, 5], "systemat": [1, 5], "random": [1, 5], "per": [1, 5], "constantangl": [1, 5], "angle_rang": 1, "257": 1, "wavelength": [1, 5], "measur": [0, 1, 4, 5, 6, 7], "angl": [1, 4, 5], "incid": [1, 4, 5], "beam": [1, 4, 5], "angstrom": 1, "scalermixin": 1, "min_bound": 1, "max_bound": 1, "parametricmodel": 1, "compat": [1, 5], "parameter": [1, 5, 6, 7], "store": 1, "well": [1, 3, 4, 5], "subprior": [1, 5], "model": [1, 3, 7], "real_sld": 1, "imag_sld": 1, "magnetic_sld": [], "magnet": [], "magnetization_angl": [], "vf": [], "solvent": [], "volum": 3, "add_bound": 1, "samplerstrategi": 1, "parametrized_model": 1, "reciproc": [1, 6], "init_bound": 1, "arrai": [1, 6, 7], "individu": [0, 1], "datatyp": [1, 6], "name": [1, 4, 5, 6], "total_min_bound": 1, "total_max_bound": 1, "total_min_delta": 1, "total_max_delta": 1, "basicsamplerstrategi": 1, "constraint": 1, "mimimum": 1, "w": [1, 5], "constrainedroughnesssamplerstrategi": 1, "thickness_mask": 1, "roughness_mask": 1, "max_total_thick": [1, 5], "indic": 1, "sld_mask": 1, "isld_mask": 1, "trainer": [1, 6, 7], "nn": 1, "basic_train": 1, "dataload": 1, "logger": [1, 5], "optim_cl": 1, "adam": 1, "optim_kwarg": [1, 5], "frozen_v_network": [], "network": [1, 3, 5, 6, 7], "learn": [1, 3, 5], "rate": [1, 5, 6], "clip_grad_norm": 1, "norm": [1, 5], "gradient": [1, 5], "clip": [1, 5, 6], "train": [1, 3, 7], "num_batch": [1, 5], "callback": 1, "trainercallback": 1, "disable_tqdm": 1, "use_notebook_tqdm": 1, "start": 1, "iter": [1, 5], "progress": [1, 5], "disabl": [0, 1], "notebook": [1, 5], "frequenc": [1, 5], "updat": [1, 5, 6], "accumul": [1, 5], "step": [1, 5, 6], "configure_optim": 1, "param_group": 1, "set_lr": [1, 5], "start_train": 1, "end_train": 1, "end_batch": 1, "batch_num": [1, 5], "index": [1, 2, 6], "current": [1, 5], "periodictrainercallback": 1, "last_epoch": [1, 5], "action": 1, "period": [1, 5], "repeat": [1, 4, 5], "last": [1, 5, 6, 7], "savebestmodel": [1, 5], "freq": [1, 5], "best": [1, 6], "loss": [1, 5], "evalu": [1, 3, 6], "recent": 1, "over": [1, 5], "check": [1, 3], "improv": [1, 4], "disk": 1, "logloss": 1, "printlogg": 1, "consol": 1, "schedulebatchs": 1, "gamma": [1, 5], "schedul": [1, 5], "modifi": 1, "multipli": [1, 5], "schedulelr": 1, "lr_scheduler_cl": 1, "steplr": [1, 5], "step_siz": [1, 5], "decai": 1, "group": [1, 5], "everi": 1, "epoch": [1, 5], "cycliclr": 1, "base_lr": 1, "max_lr": 1, "step_size_up": 1, "2000": 1, "cycle_momentum": 1, "triangular": 1, "cyclic": 1, "boundari": [1, 3, 5], "cycl": 1, "increas": [1, 4, 5], "half": 1, "invers": [1, 3], "base_momentum": 1, "max_momentum": 1, "exp_rang": 1, "One": 1, "basic": [1, 5], "triangular2": 1, "logcycliclr": [1, 5], "start_period": 1, "domain": 1, "tupe": 1, "reducelronplateau": [1, 5], "patienc": 1, "loss_kei": 1, "total_loss": 1, "http": [1, 2], "arxiv": 1, "org": 1, "1708": 1, "07120": 1, "total_step": 1, "pct_start": 1, "percentag": 1, "spent": 1, "div_factor": 1, "determin": 1, "via": [0, 1, 2, 5, 6], "initial_lr": 1, "final_div_factor": 1, "min_lr": [1, 5], "1e4": 1, "three_phas": 1, "third": 1, "annihil": 1, "onecyclelr": [1, 5], "inherit": 1, "realtimesimtrain": 1, "get_batch_by_idx": 1, "get_batch_by_s": 1, "estim": 1, "get_loss_dict": 1, "basicbatchdata": 1, "use_s": [1, 5], "relu": 1, "embed": [1, 5], "intermedi": [1, 5], "convolut": 1, "adapt": [1, 5], "pool": [1, 5], "forward": 1, "x": [1, 3, 4, 5], "overridden": 1, "although": [1, 7], "recip": 1, "pass": 1, "need": [1, 6, 7], "afterward": 1, "sinc": [1, 5, 6], "former": 1, "care": 1, "run": 1, "regist": 1, "hook": 1, "latter": 1, "silent": 1, "ignor": 1, "them": [1, 5, 6], "fnoencod": 1, "tanh": 1, "merg": 1, "token": 1, "networkwithpriorsconvemb": 1, "wrapper": 1, "back": [1, 4], "version": [1, 2, 6], "packag": [1, 3, 4, 5, 6], "networkwithpriorsfnoemb": [1, 6], "arr": 1, "python": [1, 2, 3, 5], "ndarrai": 1, "to_t": 1, "float32": [1, 6], "angle_to_q": [], "scattering_angl": 1, "convers": [], "full": [], "degre": [], "vector": [0, 5], "q_to_angl": [], "energy_to_wavelength": [], "energi": 4, "ev": [], "wavelength_to_energi": [], "train_from_config": 1, "get_trainer_from_config": 1, "folder_path": 1, "folder": 1, "get_paths_from_config": 1, "mkdir": 1, "directori": [1, 5, 6], "creat": [1, 6], "new": [1, 5, 7], "get_callbacks_from_config": 1, "config_dir": [1, 5, 6], "model_path": 1, "inference_devic": 1, "locat": [1, 3, 4, 5, 6], "overwrit": 1, "infer": [1, 3, 6, 7], "convert_pt_to_safetensor": [1, 5], "input_dir": 1, "state": [1, 5], "pt": [1, 5, 6], "load_config": 1, "root_dir": [1, 5, 6], "weights_format": [1, 6], "repo_id": [1, 6], "valentinsingular": [1, 6], "facilit": 1, "pretrain": [1, 5, 6], "requir": [1, 6], "model_": [1, 5, 6], "root": [1, 5], "subdirectori": [1, 6], "format": [1, 5, 6, 7], "id": 1, "huggingfac": [1, 5, 6], "repositori": [1, 2, 5, 6], "download": [1, 6], "automat": [1, 2, 6], "load_model": 1, "q_resolut": [1, 7], "ambient_sld": [1, 7], "contrast": [], "polishing_kwargs_reflect": 1, "fit_growth": [1, 6], "max_d_chang": [1, 6], "use_q_shift": [1, 6], "calc_polished_sld_profil": [1, 7], "predict_with_splitted_subinterv": [], "predict_with_bisected_subinterv": [], "num_round": [], "num_split": [], "1024": 5, "preprocess": [1, 6], "outsid": [1, 6], "simpl": 1, "least": [1, 6], "squar": [1, 6], "lm": [1, 6], "fit": [1, 6], "dure": [1, 3, 5, 6, 7], "situ": [1, 3, 6], "growth": [1, 6], "possibl": [1, 5, 6], "relev": [1, 4], "slightli": [1, 6], "result": [1, 5, 6], "meant": [1, 6], "mitig": [1, 6], "influenc": [1, 6], "imperfect": [1, 6], "align": [1, 6], "greco": [1, 3, 6], "et": [1, 6], "al": [1, 6], "calcul": 1, "async": [], "predict_using_widget": 1, "widget": 5, "befor": [1, 2, 5], "method": [3, 5, 6, 7], "huggingfacequerymatch": [1, 6], "avail": [1, 5], "temporari": [1, 6], "filter": 1, "those": [1, 5], "match": [0, 1, 6], "user": [1, 2, 3], "queri": [1, 6], "hug": 1, "face": 1, "repo": 1, "get_matching_config": [1, 6], "retriev": 1, "pair": [1, 6], "100": [1, 4, 5, 6], "desir": [1, 6], "subrang": [1, 6], "exactli": [1, 6, 7], "standard_preprocess": 1, "attenu": 1, "beam_width": 1, "sample_length": 1, "min_intens": 1, "beam_shap": 1, "liter": 1, "gauss": 1, "normalize_mod": 1, "incoming_intens": 1, "max_q": 1, "max_angl": 1, "raw": 1, "correct": [0, 1, 2, 6], "footprint": [1, 6], "cut": 1, "length": [1, 6], "remov": [1, 7], "reflgradientfit": [], "fit_indic": [], "rel_err": [], "abs_err": [], "07": [4, 6, 7], "thei": [5, 6], "absolut": [], "prograss": [], "min_valu": 1, "like": 1, "apply_attenuation_correct": 1, "correct_discontinu": 1, "discontinu": 1, "apply_footprint_correct": 1, "pypi": 2, "pip": 2, "addition": [2, 3, 6, 7], "clone": [2, 6], "entir": [2, 6], "git": 2, "com": 2, "schreiber": [2, 3], "lab": [2, 3], "develop": [2, 3], "build": [2, 7], "test": 2, "document": [2, 6], "doc": 2, "nvidia": 2, "hardwar": 2, "system": [2, 6], "offici": 2, "guid": 2, "websit": [], "newer": 2, "pyproject": 2, "toml": 2, "scipi": 2, "tqdm": [2, 5], "pyyaml": 2, "click": 2, "huggingface_hub": 2, "analysi": [3, 4], "rai": [3, 4, 5], "neutron": [0, 3, 4, 5], "t\u00fcbingen": 3, "germani": 3, "our": [3, 4, 6], "pipelin": 3, "alongsid": [3, 6], "simultan": 3, "pose": 3, "subinterv": [3, 5], "larger": [3, 5], "would": 3, "ill": 3, "underdetermin": 3, "issu": 3, "primarili": 3, "consequ": 3, "approach": 3, "significantli": 3, "tackl": 3, "reflectometi": 3, "solut": 3, "perspect": 3, "methodologi": 3, "knowledg": [3, 6], "about": [3, 6], "investig": [3, 6], "time": [3, 5], "pleas": 3, "out": 3, "articl": 3, "publish": 3, "journal": 3, "crystallographi": 3, "inform": 3, "theori": 3, "behind": 3, "close": [3, 6], "loop": [3, 6], "autonom": 3, "enabl": [0, 2, 3, 5], "machin": 3, "onlin": 3, "synchrotron": 3, "beamlin": 3, "environ": [2, 3], "radiat": 3, "research": 3, "vipr": 3, "05d23vt1": 3, "erumdata": 3, "fund": 3, "german": 3, "feder": 3, "ministri": 3, "scienc": 3, "educ": 3, "bmbf": 3, "partli": 3, "support": [3, 6], "consortium": 3, "daphne4nfdi": 3, "nfdi": 3, "v": 3, "foundat": 3, "munteanu2024": 3, "author": 3, "munteanu": 3, "valentin": 3, "starostin": 3, "vladimir": 3, "alessandro": 3, "pithan": 3, "linu": 3, "gerlach": 3, "alexand": 3, "hinderhof": 3, "kowarik": 3, "stefan": 3, "frank": 3, "titl": 3, "year": 3, "2024": 3, "issn": 3, "1600": 3, "5767": 3, "month": 3, "mar": 3, "57": [3, 6, 7], "doi": 3, "1107": 3, "s1600576724002115": 3, "iucr": 3, "page": 3, "more": [3, 4, 6, 7], "instal": [3, 5, 6], "advanc": [3, 5], "api": 3, "refer": [2, 3], "mandatori": 4, "air": [1, 4], "init": [4, 6], "grid": [4, 5, 7], "inbetween": 4, "front": [1, 4], "gpu": [4, 5, 6], "computation": 4, "faster": 4, "larg": 4, "notabl": [4, 5, 7], "doubl": 4, "precis": [4, 5], "singl": [4, 6], "accuraci": 4, "005": 4, "250": 4, "120": 4, "170": 4, "47": [4, 6], "36": [4, 6, 7], "40": [4, 6, 7], "1j": 4, "sim_reflectorch": 4, "compar": [4, 6], "known": [4, 6], "classic": 4, "slab": [4, 6], "reflectmodel": 4, "amb": 4, "structure1": 4, "model1": 4, "bkg": 4, "sim_refnx_1": 4, "structure2": 4, "model2": 4, "sim_refnx_2": 4, "yellow": 4, "l": [4, 7], "252936695116347e": [], "387967805545976e": [], "probe": 4, "qprobe": 4, "zeros_lik": 4, "sld_amb": 4, "sld_l1": 4, "sld_l2": 4, "sld_sub": 4, "experiment1": 4, "sim_refl1d_1": 4, "irho": 4, "experiment2": 4, "sim_refl1d_2": 4, "0047012889875219e": [], "641061386696276e": [], "effect": 4, "offset": 4, "due": [4, 5, 7], "sim_shift": 4, "003": 4, "particularli": 4, "finit": [1, 4], "give": [1, 4], "coeffici": [1, 4, 5], "num_point": 4, "boolean": 4, "flag": 4, "switch": 4, "kernel": [4, 5], "cost": [4, 5], "effici": [4, 5], "typic": 4, "actual": 4, "altern": [4, 5], "sometim": 4, "sim_smear": 4, "unsmear": 4, "separ": 4, "sim_no_smear": 4, "arbitrari": 4, "expens": 4, "dq_no_smear": 4, "dq_linear_5": 4, "dq_linear_10": 4, "dq_arbitrari": 4, "dim": [4, 6], "sim_smearing_pointwis": 4, "black": 4, "necessari": [5, 6], "saved_models_dir": 5, "get_callbacks_by_nam": 5, "everyth": 5, "compon": [5, 6], "read": [5, 6], "want": [2, 5], "randomli": [5, 6], "fresh": 5, "a_base_point_xray_conv_standard": 5, "sever": 5, "attribut": [5, 6], "inspect": [5, 6], "amsgrad": 5, "beta": 5, "999": 5, "captur": 5, "differenti": 5, "foreach": 5, "fuse": 5, "maxim": 5, "weight_decai": 5, "0005": 5, "easili": [5, 6], "new_lr": 5, "see": [5, 6, 7], "perceptron": 5, "embedding_net": 5, "concaten": [5, 6], "residualmlp": 5, "first_lay": 5, "modulelist": 5, "residualblock": 5, "batch_norm_lay": 5, "condition_lay": 5, "linear_lay": 5, "last_lay": 5, "control": 5, "visual": 5, "refresh": 5, "decreas": [1, 5], "cosineannealingwithwarmup": [1, 5], "histori": 5, "global": 5, "save_model_nam": 5, "save_path": 5, "toupl": 5, "5000": 5, "accept": 5, "place": 5, "regim": 5, "access": [5, 6], "find": 5, "state_dict": 5, "weights_onli": 5, "prev_sav": 5, "best_loss": 5, "net": 5, "saved_dict": 5, "model_state_dict": 5, "load_state_dict": 5, "export": 5, "workflow": 5, "manual": [2, 5, 7], "how": [5, 6], "gaussianexpintensitynois": [1, 5], "concat_condition_first_lay": [1, 5], "condition_on_q_resolut": 5, "rescale_loss_interval_width": 5, "use_l1_loss": 5, "save_best_model": 5, "lr_schedul": 5, "warmup_it": [1, 5], "total_it": [1, 5], "tensorboardlogg": [1, 5], "log_dir": [1, 5], "tensorboard_run": 5, "test_1": 5, "pertain": 5, "respons": 5, "b_min": 5, "b_max": 5, "Then": [5, 6], "associ": [5, 6], "bias": 5, "smaller": 5, "specifii": 5, "equidistantlli": 5, "emul": 5, "three": [1, 5], "occur": 5, "uncertainti": 5, "variant": 5, "accor": 5, "formula": 5, "r_": 5, "extra": [1, 5], "neuron": 5, "dropout": [1, 5], "modal": 5, "featur": 5, "glu": 5, "even": 5, "tensorboard": [1, 2, 5], "monitor": 5, "100000": [1, 5], "20000": 5, "subsect": 6, "abstract": 6, "awai": 6, "illustr": 6, "some": [6, 7], "involv": 6, "resembl": 6, "secur": 6, "risk": 6, "recommend": [2, 6], "b_mc_point_xray_conv_standard_l2_inputq": 6, "mc25": 6, "model_b_mc_point_xray_conv_standard_l2_inputq": 6, "procedur": 6, "interpolate_data_to_model_q": [6, 7], "knowled": 6, "know": 6, "sit": 6, "perylen": 6, "diimid": 6, "ptcdi": 6, "narrow": 6, "around": 6, "materi": 6, "wide": 6, "min_prior_bound": 6, "max_prior_bound": 6, "ensur": [0, 6], "convent": 6, "deposit": 6, "aquisit": 6, "slow": 6, "applic": 6, "polished_params_arrai": [6, 7], "pred_param_v": [6, 7], "polished_param_v": [6, 7], "194": 6, "187": 6, "78": [6, 7], "09": [6, 7], "00": [6, 7], "67": 6, "39": [6, 7], "65": [6, 7], "48": 6, "54": 6, "73": 6, "similar": [6, 7], "except": 6, "fulleren": 6, "c60": 6, "168": 6, "162": 6, "38": [6, 7], "27": 6, "97": [6, 7], "37": [6, 7], "98": [6, 7], "34": [6, 7], "81": 6, "matcher": 6, "minut": 6, "hf_query_match": 6, "hierarch": 6, "matching_config": 6, "mc42": 6, "mc43": 6, "mc44": 6, "mc45": 6, "o1": 6, "o10": 6, "o11": 6, "o12": 6, "o2": 6, "o3": 6, "o5": 6, "o7": 6, "o8": 6, "o9": 6, "wish": 6, "trained_model_nam": 6, "next": [6, 7], "manner": [1, 6], "entri": 6, "paper": 6, "theoret": 6, "witout": 6, "unscaled_noisy_curv": 6, "unscaled_denoised_curv": 6, "def": 6, "plot_refl_curv": 6, "column": [6, 7], "scaled_bound": [1, 6], "scaled_q_valu": [1, 6], "els": 6, "ani": [0, 6, 7], "might": [6, 7], "sure": 6, "no_grad": 6, "eval": 6, "scaled_predicted_param": 6, "rescal": 6, "along": 6, "restored_predict": 6, "cat": 6, "pred_idx": 6, "160": 6, "5036": 6, "371": 6, "9691": 6, "2331": 6, "1782": 6, "4265": 6, "8209": 6, "23": [6, 7], "1636": 6, "4703": 6, "189": 6, "96": 6, "183": 6, "28": 6, "127": 6, "231": 6, "436": 6, "429": 6, "124": 6, "483": 6, "49": 6, "86": 6, "72": 6, "93": 6, "45": [6, 7], "62": [6, 7], "77": 6, "207": 6, "205": 6, "55": [0, 6], "405": 6, "46": 6, "26": 6, "94": [6, 7], "42": [6, 7], "22": [0, 6], "24": [6, 7], "90": [6, 7], "68": [6, 7], "182": 6, "206": 6, "285": 6, "348": 6, "29": 6, "347": 6, "63": [6, 7], "44": 6, "89": 6, "anim": 6, "funcanim": 6, "ipython": 6, "displai": 6, "html": 6, "clear": 6, "j": 6, "sld_profile_gt": 6, "sld_profile_pr": 6, "frame": 6, "init_func": 6, "blit": 6, "to_jshtml": 6, "onc": 6, "nr": 7, "stuctur": 7, "ni": 7, "ni500": 7, "sigmas_exp": 7, "174": 7, "01333": 7, "22399": 7, "83715e": 7, "23214e": 7, "3282606076124776": 7, "set_xscal": [], "el": 7, "errorbar": 7, "fmt": 7, "o": 7, "markers": 7, "linewidth": 7, "zorder": 7, "yerr": 7, "xerr": 7, "color": 7, "ecolor": 7, "elinewidth": 7, "capsiz": 7, "barsabov": 7, "refl_curv": [], "refl_error": [], "q_re": [], "marker": 7, "linestyl": 7, "elin": 7, "get_children": 7, "set_color": 7, "0x21e24693c10": [], "detail": 7, "b_mc_point_neutron_conv_standard_l1_inputqdq": 7, "model_b_mc_point_neutron_conv_standard_l1_inputqdq": 7, "300": 7, "900": 7, "glass": 7, "alwai": 7, "depend": 7, "purpl": 7, "gca": 7, "get_legend_handles_label": 7, "0x21e41bd7760": [], "498": 7, "59": [], "497": 7, "thicker": 7, "015": 7, "enough": [], "reus": [], "ni_on_glass": 7, "757": 7, "00508981": 7, "175655": 7, "833": [], "826": 7, "69": [], "line": 7, "line2d": 7, "0x21e4203f160": [], "mc_n_2l_stdp_cve_hr_q010_nq256__v1": [], "model_mc_n_2l_stdp_cve_hr_q010_nq256__v1": [], "1500": [0, 7], "1250": [], "d17": [], "tof": [], "data_quartz_il": [], "max_point_no": 7, "550": [], "q_res_exp": 7, "768": [], "00651411": [], "10514": [], "573317": [], "17504e": [], "9831925113882516": [], "012364109895647181": [], "015959768395487583": [], "0x21e905f9c70": [], "sld_quartz": [], "www": [], "qtisa": [], "q_res_interp": 7, "01237032467153037": [], "016257519999999998": [], "1406": [], "1461": [], "0x21e97d3a1c0": [], "d17_sio": 7, "2050": 7, "2166": 7, "00610735": 7, "114432": 7, "39997": 7, "14757e": 7, "44030349303302": 7, "01295813163759255": 7, "019083468130430558": 7, "0x21e99490d00": [], "012968723482507724": [], "017974179947297598": [], "1168": [], "1240": [], "0x21e9c762910": [], "b_mc_point_neutron_conv_standard_l2_inputqdq": 7, "model_b_mc_point_neutron_conv_standard_l2_inputqdq": 7, "04": 7, "orso_exampl": 7, "ort": 7, "350": 7, "408": 7, "00806022": 7, "26145": 7, "125959": 7, "19257e": 7, "2542693029005862": 7, "017461305621930916": 7, "018550916324345": 7, "0x21e38080940": [], "polym": 7, "d2o": 7, "255": 7, "259": 7, "0x21e382879d0": [], "0x1f15a18f7c0": [], "0x1f15a18f2e0": [], "82": 0, "artifact": 0, "log10_background": [0, 7], "To": 0, "affect": 0, "often": 0, "seen": 0, "below": 0, "shift_param_config": 0, "004": 0, "0x000001f18fa78670": [], "padding_left": 1, "padding_right": 1, "transit": 1, "layer1": 1, "layern": 1, "neg": 1, "surfac": 1, "portion": 1, "d_profil": 1, "coordin": 1, "2d": 1, "solvent_vf": 1, "solvent_mod": 1, "same_background_across_channel": 1, "multi": 1, "scalar": 1, "tag": 1, "reduc": 1, "stop": 1, "window": 1, "cosin": 1, "anneal": 1, "warm": 1, "stage": 1, "get_lr": 1, "simulate_and_plot": 1, "log_scal": 1, "evolut": 1, "total_batch": 1, "tanh_output": 1, "use_selu_init": 1, "adaptive_activ": 1, "special": 1, "selu": 1, "skip": 1, "conditioning_param": 1, "scaled_curv": 1, "n_channel": 1, "scaled_conditioning_param": 1, "instrument": 1, "pointwis": 1, "virtual": 2, "avoid": 2, "conflict": 2, "maintain": 2, "clean": 2, "cd": 2, "dedic": 2, "you": 2, "leverag": 2, "acceler": 2, "command": 2, "your": 2, "5179880710123875e": 4, "044054966894104e": 4, "0018470239619891e": 4, "6703425310918357e": 4, "b_mc_point_xray_conv_absorption_l3_inputq": 6, "0x236feafba90": [], "sld_profile_polish": 7, "e_mc_point_neutron_conv_standard_l1_inputqdq_n256_size1024": 7, "model_e_mc_point_neutron_conv_standard_l1_inputqdq_n256_size1024": 7, "log10": 7, "812": 7, "66": 7, "colum": 7, "conf_nam": 7, "e_mc_point_neutron_conv_standard_l1_inputqdq_n128_size1024": 7, "0x2368e101430": [], "012970237769559695": 7, "018944584008420546": 7, "1209": 7, "1245": 7, "0x2368f17d130": [], "d\u2082o": 7, "non": 7, "still": 7, "valid": 7, "invari": 7, "under": 7, "0x236fef59c10": [], "siox": 7, "88": 7, "0x2940b8c04f0": [], "0x2940b847520": [], "0x00000294914976a0": [], "upon": 7, "concept": 7, "demonstr": 7, "xrr": 7, "highlight": 7, "consider": 7, "0x213fb97ca00": [], "0x21384f954f0": [], "0x213860080d0": [], "0x21386656d30": [], "0x29236d87c70": 0, "0x29236d87f70": 0, "0x00000292923a7640": 0, "0x296ee1fc9a0": 7, "0x2968075dac0": 7, "0x296817b9070": 7, "0x29682dd4d00": 7}, "objects": {"": [[1, 0, 0, "-", "reflectorch"]], "reflectorch": [[1, 1, 1, "", "BasicDataset"], [1, 1, 1, "", "BasicParams"], [1, 1, 1, "", "BasicQNoiseGenerator"], [1, 1, 1, "", "BasicSamplerStrategy"], [1, 1, 1, "", "ConstantAngle"], [1, 1, 1, "", "ConstantQ"], [1, 1, 1, "", "ConstrainedRoughnessAndImgSldSamplerStrategy"], [1, 1, 1, "", "ConstrainedRoughnessSamplerStrategy"], [1, 1, 1, "", "ConvEncoder"], [1, 1, 1, "", "CosineAnnealingWithWarmup"], [1, 1, 1, "", "CurvesScaler"], [1, 1, 1, "", "CyclicLR"], [1, 1, 1, "", "EasyInferenceModel"], [1, 1, 1, "", "FnoEncoder"], [1, 1, 1, "", "GaussianExpIntensityNoise"], [1, 1, 1, "", "HuggingfaceQueryMatcher"], [1, 1, 1, "", "IntensityNoiseGenerator"], [1, 1, 1, "", "LogAffineCurvesScaler"], [1, 1, 1, "", "LogCyclicLR"], [1, 1, 1, "", "LogLikelihood"], [1, 1, 1, "", "LogLosses"], [1, 1, 1, "", "Logger"], [1, 1, 1, "", "Loggers"], [1, 1, 1, "", "MeanNormalizationCurvesScaler"], [1, 1, 1, "", "NetworkWithPriors"], [1, 1, 1, "", "NetworkWithPriorsConvEmb"], [1, 1, 1, "", "NetworkWithPriorsFnoEmb"], [1, 1, 1, "", "OneCycleLR"], [1, 1, 1, "", "ParametricModel"], [1, 1, 1, "", "Params"], [1, 1, 1, "", "PeriodicTrainerCallback"], [1, 1, 1, "", "PointEstimatorTrainer"], [1, 1, 1, "", "PrintLogger"], [1, 1, 1, "", "PriorSampler"], [1, 1, 1, "", "QGenerator"], [1, 1, 1, "", "QNoiseGenerator"], [1, 1, 1, "", "RealTimeSimTrainer"], [1, 1, 1, "", "ReduceLROnPlateau"], [1, 1, 1, "", "ReflectivityDataLoader"], [1, 1, 1, "", "SamplerStrategy"], [1, 1, 1, "", "SaveBestModel"], [1, 1, 1, "", "ScheduleBatchSize"], [1, 1, 1, "", "ScheduleLR"], [1, 1, 1, "", "Smearing"], [1, 1, 1, "", "StepLR"], [1, 1, 1, "", "SubpriorParametricSampler"], [1, 1, 1, "", "TensorBoardLogger"], [1, 1, 1, "", "Trainer"], [1, 1, 1, "", "TrainerCallback"], [1, 1, 1, "", "VariableQ"], [1, 5, 1, "", "apply_attenuation_correction"], [1, 5, 1, "", "apply_footprint_correction"], [1, 5, 1, "", "convert_pt_to_safetensors"], [1, 5, 1, "", "get_callbacks_from_config"], [1, 5, 1, "", "get_density_profiles"], [1, 5, 1, "", "get_paths_from_config"], [1, 5, 1, "", "get_trainer_by_name"], [1, 5, 1, "", "get_trainer_from_config"], [1, 5, 1, "", "interp_reflectivity"], [1, 5, 1, "", "load_config"], [1, 5, 1, "", "reflectivity"], [1, 5, 1, "", "standard_preprocessing"], [1, 5, 1, "", "to_np"], [1, 5, 1, "", "to_t"], [1, 5, 1, "", "train_from_config"]], "reflectorch.BasicDataset": [[1, 2, 1, "", "get_batch"], [1, 2, 1, "", "update_batch_data"]], "reflectorch.BasicParams": [[1, 2, 1, "", "as_tensor"], [1, 2, 1, "", "from_tensor"], [1, 2, 1, "", "get_param_labels"], [1, 3, 1, "", "imag_slds"], [1, 3, 1, "", "max_layer_num"], [1, 3, 1, "", "num_params"], [1, 3, 1, "", "real_slds"], [1, 2, 1, "", "reflectivity"], [1, 3, 1, "", "roughnesses"], [1, 2, 1, "", "scale_with_q"], [1, 3, 1, "", "slds"], [1, 3, 1, "", "thicknesses"]], "reflectorch.BasicQNoiseGenerator": [[1, 2, 1, "", "apply"]], "reflectorch.BasicSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.ConstantAngle": [[1, 2, 1, "", "get_batch"]], "reflectorch.ConstantQ": [[1, 2, 1, "", "get_batch"], [1, 2, 1, "", "scale_q"]], "reflectorch.ConstrainedRoughnessAndImgSldSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.ConstrainedRoughnessSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.ConvEncoder": [[1, 2, 1, "", "forward"]], "reflectorch.CosineAnnealingWithWarmup": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "get_lr"], [1, 2, 1, "", "simulate_and_plot"], [1, 2, 1, "", "start_training"]], "reflectorch.EasyInferenceModel": [[1, 2, 1, "", "load_model"], [1, 2, 1, "", "predict"], [1, 2, 1, "", "predict_using_widget"]], "reflectorch.GaussianExpIntensityNoise": [[1, 2, 1, "", "apply"]], "reflectorch.HuggingfaceQueryMatcher": [[1, 2, 1, "", "get_matching_configs"]], "reflectorch.LogAffineCurvesScaler": [[1, 2, 1, "", "restore"], [1, 2, 1, "", "scale"]], "reflectorch.LogCyclicLR": [[1, 2, 1, "", "end_batch"]], "reflectorch.LogLikelihood": [[1, 2, 1, "", "calc_log_likelihood"], [1, 2, 1, "", "calc_log_posterior"]], "reflectorch.LogLosses": [[1, 2, 1, "", "end_batch"]], "reflectorch.MeanNormalizationCurvesScaler": [[1, 2, 1, "", "restore"], [1, 2, 1, "", "save"], [1, 2, 1, "", "scale"]], "reflectorch.NetworkWithPriors": [[1, 2, 1, "", "forward"]], "reflectorch.ParametricModel": [[1, 2, 1, "", "get_param_labels"], [1, 2, 1, "", "init_bounds"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "reflectivity"], [1, 2, 1, "", "sample"], [1, 3, 1, "", "sampler_strategy"]], "reflectorch.Params": [[1, 2, 1, "", "as_tensor"], [1, 3, 1, "", "d_rhos"], [1, 2, 1, "", "from_tensor"], [1, 2, 1, "", "get_param_labels"], [1, 2, 1, "", "layers_num2size"], [1, 2, 1, "", "reflectivity"], [1, 2, 1, "", "scale_with_q"], [1, 2, 1, "", "size2layers_num"]], "reflectorch.PeriodicTrainerCallback": [[1, 2, 1, "", "end_batch"]], "reflectorch.PointEstimatorTrainer": [[1, 2, 1, "", "get_loss_dict"]], "reflectorch.PriorSampler": [[1, 4, 1, "", "PARAM_CLS"], [1, 3, 1, "", "max_num_layers"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "restore_params"], [1, 2, 1, "", "sample"], [1, 2, 1, "", "scale_params"]], "reflectorch.RealTimeSimTrainer": [[1, 2, 1, "", "get_batch_by_idx"], [1, 2, 1, "", "get_batch_by_size"]], "reflectorch.ReduceLROnPlateau": [[1, 2, 1, "", "end_batch"]], "reflectorch.SaveBestModel": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "save"]], "reflectorch.ScheduleLR": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "start_training"]], "reflectorch.Smearing": [[1, 2, 1, "", "scale_resolutions"]], "reflectorch.StepLR": [[1, 2, 1, "", "start_training"]], "reflectorch.SubpriorParametricSampler": [[1, 4, 1, "", "PARAM_CLS"], [1, 3, 1, "", "max_num_layers"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "restore_params"], [1, 2, 1, "", "sample"], [1, 2, 1, "", "scale_params"]], "reflectorch.TensorBoardLogger": [[1, 2, 1, "", "log"]], "reflectorch.Trainer": [[1, 2, 1, "", "configure_optimizer"], [1, 2, 1, "", "log"], [1, 2, 1, "", "lr"], [1, 2, 1, "", "set_lr"], [1, 2, 1, "", "train"]], "reflectorch.TrainerCallback": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "end_training"], [1, 2, 1, "", "start_training"]], "reflectorch.VariableQ": [[1, 2, 1, "", "get_batch"], [1, 2, 1, "", "scale_q"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:property", "4": "py:attribute", "5": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "function", "Python function"]}, "titleterms": {"advanc": 0, "function": 0, "us": [0, 6, 7], "altern": 0, "parameter": 0, "sld": 0, "profil": 0, "model": [0, 5, 6], "absorpt": 0, "period": 0, "repeat": 0, "monolay": 0, "train": [0, 5, 6], "infer": 0, "embed": 0, "network": 0, "trainer": [0, 5], "api": 1, "refer": 1, "instal": 2, "instruct": 2, "gpu": 2, "support": 2, "packag": 2, "depend": 2, "reflectorch": [3, 5, 6], "citat": 3, "tabl": 3, "content": 3, "simul": 4, "basic": 4, "exampl": 4, "comparison": 4, "refnx": 4, "refl1d": 4, "incorpor": 4, "shift": [], "resolut": [4, 7], "smear": [4, 7], "linear": [4, 7], "constant": 4, "pointwis": [4, 7], "The": 5, "loop": 5, "load": 5, "defin": 5, "callback": 5, "run": 5, "from": 5, "termin": 5, "custom": 5, "yaml": 5, "configur": [5, 6], "simplifi": 6, "experiment": [0, 4, 6], "data": 6, "filter": 6, "avail": 6, "file": 6, "detail": 6, "synthet": 6, "gener": 6, "appli": 6, "neutron": 7, "reflectometri": 7, "handl": 7, "time": [], "flight": [], "experi": [], "quartz": [], "si": [], "siox": [], "structur": 7, "ambient": 7, "medium": 7, "front": 7, "differ": 7, "than": 7, "air": 7, "nuisanc": 0, "paramet": 0, "imperfect": 0, "artifact": 4}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1, "sphinxcontrib.bibtex": 9, "sphinx": 60}, "alltitles": {"Reflectorch": [[3, "reflectorch"]], "Citation": [[3, "citation"]], "Table of contents": [[3, "table-of-contents"]], "Advanced functionality": [[0, "advanced-functionality"]], "Using alternative parameterizations of the SLD profile": [[0, "using-alternative-parameterizations-of-the-sld-profile"]], "Model with absorption": [[0, "model-with-absorption"]], "Periodically repeating monolayer": [[0, "periodically-repeating-monolayer"]], "Training": [[0, "training"], [0, "id1"]], "Inference": [[0, "inference"], [0, "id2"]], "Parameterizations with nuisance parameters (experimental imperfections)": [[0, "parameterizations-with-nuisance-parameters-experimental-imperfections"]], "Using alternative embedding networks": [[0, "using-alternative-embedding-networks"]], "Using alternative trainers": [[0, "using-alternative-trainers"]], "API Reference": [[1, "module-reflectorch"]], "Installation": [[2, "installation"]], "Installation instructions": [[2, "installation-instructions"]], "GPU support": [[2, "gpu-support"]], "Package dependencies": [[2, "package-dependencies"]], "Simulations": [[4, "simulations"]], "Basic example": [[4, "basic-example"]], "Comparison to refnx and refl1d": [[4, "comparison-to-refnx-and-refl1d"]], "refnx": [[4, "refnx"]], "refl1d": [[4, "refl1d"]], "Incorporating experimental artifacts": [[4, "incorporating-experimental-artifacts"]], "Resolution smearing": [[4, "resolution-smearing"]], "Linear (and constant) smearing": [[4, "linear-and-constant-smearing"]], "Pointwise smearing": [[4, "pointwise-smearing"]], "Training a reflectorch model": [[5, "training-a-reflectorch-model"]], "The training loop": [[5, "the-training-loop"]], "Loading the trainer": [[5, "loading-the-trainer"]], "Defining callbacks": [[5, "defining-callbacks"]], "Run the training": [[5, "run-the-training"]], "Training from the terminal": [[5, "training-from-the-terminal"]], "Customizing the YAML configuration for training": [[5, "customizing-the-yaml-configuration-for-training"]], "Using a trained reflectorch model": [[6, "using-a-trained-reflectorch-model"]], "Simplified use of a trained reflectorch model on experimental data": [[6, "simplified-use-of-a-trained-reflectorch-model-on-experimental-data"]], "Filtering available configuration files": [[6, "filtering-available-configuration-files"]], "Detailed use of a reflectorch model on synthetic data": [[6, "detailed-use-of-a-reflectorch-model-on-synthetic-data"]], "Generating synthetic data": [[6, "generating-synthetic-data"]], "Applying the model to synthetic data": [[6, "applying-the-model-to-synthetic-data"]], "Neutron reflectometry use": [[7, "neutron-reflectometry-use"]], "Handling linear resolution smearing": [[7, "handling-linear-resolution-smearing"]], "Handling pointwise resolution smearing": [[7, "handling-pointwise-resolution-smearing"]], "Structures with ambient medium (fronting) different than air": [[7, "structures-with-ambient-medium-fronting-different-than-air"]]}, "indexentries": {"basicdataset (class in reflectorch)": [[1, "reflectorch.BasicDataset"]], "basicparams (class in reflectorch)": [[1, "reflectorch.BasicParams"]], "basicqnoisegenerator (class in reflectorch)": [[1, "reflectorch.BasicQNoiseGenerator"]], "basicsamplerstrategy (class in reflectorch)": [[1, "reflectorch.BasicSamplerStrategy"]], "constantangle (class in reflectorch)": [[1, "reflectorch.ConstantAngle"]], "constantq (class in reflectorch)": [[1, "reflectorch.ConstantQ"]], "constrainedroughnessandimgsldsamplerstrategy (class in reflectorch)": [[1, "reflectorch.ConstrainedRoughnessAndImgSldSamplerStrategy"]], "constrainedroughnesssamplerstrategy (class in reflectorch)": [[1, "reflectorch.ConstrainedRoughnessSamplerStrategy"]], "convencoder (class in reflectorch)": [[1, "reflectorch.ConvEncoder"]], "cosineannealingwithwarmup (class in reflectorch)": [[1, "reflectorch.CosineAnnealingWithWarmup"]], "curvesscaler (class in reflectorch)": [[1, "reflectorch.CurvesScaler"]], "cycliclr (class in reflectorch)": [[1, "reflectorch.CyclicLR"]], "easyinferencemodel (class in reflectorch)": [[1, "reflectorch.EasyInferenceModel"]], "fnoencoder (class in reflectorch)": [[1, "reflectorch.FnoEncoder"]], "gaussianexpintensitynoise (class in reflectorch)": [[1, "reflectorch.GaussianExpIntensityNoise"]], "huggingfacequerymatcher (class in reflectorch)": [[1, "reflectorch.HuggingfaceQueryMatcher"]], "intensitynoisegenerator (class in reflectorch)": [[1, "reflectorch.IntensityNoiseGenerator"]], "logaffinecurvesscaler (class in reflectorch)": [[1, "reflectorch.LogAffineCurvesScaler"]], "logcycliclr (class in reflectorch)": [[1, "reflectorch.LogCyclicLR"]], "loglikelihood (class in reflectorch)": [[1, "reflectorch.LogLikelihood"]], "loglosses (class in reflectorch)": [[1, "reflectorch.LogLosses"]], "logger (class in reflectorch)": [[1, "reflectorch.Logger"]], "loggers (class in reflectorch)": [[1, "reflectorch.Loggers"]], "meannormalizationcurvesscaler (class in reflectorch)": [[1, "reflectorch.MeanNormalizationCurvesScaler"]], "networkwithpriors (class in reflectorch)": [[1, "reflectorch.NetworkWithPriors"]], "networkwithpriorsconvemb (class in reflectorch)": [[1, "reflectorch.NetworkWithPriorsConvEmb"]], "networkwithpriorsfnoemb (class in reflectorch)": [[1, "reflectorch.NetworkWithPriorsFnoEmb"]], "onecyclelr (class in reflectorch)": [[1, "reflectorch.OneCycleLR"]], "param_cls (priorsampler attribute)": [[1, "reflectorch.PriorSampler.PARAM_CLS"]], "param_cls (subpriorparametricsampler attribute)": [[1, "reflectorch.SubpriorParametricSampler.PARAM_CLS"]], "parametricmodel (class in reflectorch)": [[1, "reflectorch.ParametricModel"]], "params (class in reflectorch)": [[1, "reflectorch.Params"]], "periodictrainercallback (class in reflectorch)": [[1, "reflectorch.PeriodicTrainerCallback"]], "pointestimatortrainer (class in reflectorch)": [[1, "reflectorch.PointEstimatorTrainer"]], "printlogger (class in reflectorch)": [[1, "reflectorch.PrintLogger"]], "priorsampler (class in reflectorch)": [[1, "reflectorch.PriorSampler"]], "qgenerator (class in reflectorch)": [[1, "reflectorch.QGenerator"]], "qnoisegenerator (class in reflectorch)": [[1, "reflectorch.QNoiseGenerator"]], "realtimesimtrainer (class in reflectorch)": [[1, "reflectorch.RealTimeSimTrainer"]], "reducelronplateau (class in reflectorch)": [[1, "reflectorch.ReduceLROnPlateau"]], "reflectivitydataloader (class in reflectorch)": [[1, "reflectorch.ReflectivityDataLoader"]], "samplerstrategy (class in reflectorch)": [[1, "reflectorch.SamplerStrategy"]], "savebestmodel (class in reflectorch)": [[1, "reflectorch.SaveBestModel"]], "schedulebatchsize (class in reflectorch)": [[1, "reflectorch.ScheduleBatchSize"]], "schedulelr (class in reflectorch)": [[1, "reflectorch.ScheduleLR"]], "smearing (class in reflectorch)": [[1, "reflectorch.Smearing"]], "steplr (class in reflectorch)": [[1, "reflectorch.StepLR"]], "subpriorparametricsampler (class in reflectorch)": [[1, "reflectorch.SubpriorParametricSampler"]], "tensorboardlogger (class in reflectorch)": [[1, "reflectorch.TensorBoardLogger"]], "trainer (class in reflectorch)": [[1, "reflectorch.Trainer"]], "trainercallback (class in reflectorch)": [[1, "reflectorch.TrainerCallback"]], "variableq (class in reflectorch)": [[1, "reflectorch.VariableQ"]], "apply() (basicqnoisegenerator method)": [[1, "reflectorch.BasicQNoiseGenerator.apply"]], "apply() (gaussianexpintensitynoise method)": [[1, "reflectorch.GaussianExpIntensityNoise.apply"]], "apply_attenuation_correction() (in module reflectorch)": [[1, "reflectorch.apply_attenuation_correction"]], "apply_footprint_correction() (in module reflectorch)": [[1, "reflectorch.apply_footprint_correction"]], "as_tensor() (basicparams method)": [[1, "reflectorch.BasicParams.as_tensor"]], "as_tensor() (params method)": [[1, "reflectorch.Params.as_tensor"]], "calc_log_likelihood() (loglikelihood method)": [[1, "reflectorch.LogLikelihood.calc_log_likelihood"]], "calc_log_posterior() (loglikelihood method)": [[1, "reflectorch.LogLikelihood.calc_log_posterior"]], "configure_optimizer() (trainer method)": [[1, "reflectorch.Trainer.configure_optimizer"]], "convert_pt_to_safetensors() (in module reflectorch)": [[1, "reflectorch.convert_pt_to_safetensors"]], "d_rhos (params property)": [[1, "reflectorch.Params.d_rhos"]], "end_batch() (cosineannealingwithwarmup method)": [[1, "reflectorch.CosineAnnealingWithWarmup.end_batch"]], "end_batch() (logcycliclr method)": [[1, "reflectorch.LogCyclicLR.end_batch"]], "end_batch() (loglosses method)": [[1, "reflectorch.LogLosses.end_batch"]], "end_batch() (periodictrainercallback method)": [[1, "reflectorch.PeriodicTrainerCallback.end_batch"]], "end_batch() (reducelronplateau method)": [[1, "reflectorch.ReduceLROnPlateau.end_batch"]], "end_batch() (savebestmodel method)": [[1, "reflectorch.SaveBestModel.end_batch"]], "end_batch() (schedulelr method)": [[1, "reflectorch.ScheduleLR.end_batch"]], "end_batch() (trainercallback method)": [[1, "reflectorch.TrainerCallback.end_batch"]], "end_training() (trainercallback method)": [[1, "reflectorch.TrainerCallback.end_training"]], "forward() (convencoder method)": [[1, "reflectorch.ConvEncoder.forward"]], "forward() (networkwithpriors method)": [[1, "reflectorch.NetworkWithPriors.forward"]], "from_tensor() (basicparams class method)": [[1, "reflectorch.BasicParams.from_tensor"]], "from_tensor() (params class method)": [[1, "reflectorch.Params.from_tensor"]], "get_batch() (basicdataset method)": [[1, "reflectorch.BasicDataset.get_batch"]], "get_batch() (constantangle method)": [[1, "reflectorch.ConstantAngle.get_batch"]], "get_batch() (constantq method)": [[1, "reflectorch.ConstantQ.get_batch"]], "get_batch() (variableq method)": [[1, "reflectorch.VariableQ.get_batch"]], "get_batch_by_idx() (realtimesimtrainer method)": [[1, "reflectorch.RealTimeSimTrainer.get_batch_by_idx"]], "get_batch_by_size() (realtimesimtrainer method)": [[1, "reflectorch.RealTimeSimTrainer.get_batch_by_size"]], "get_callbacks_from_config() (in module reflectorch)": [[1, "reflectorch.get_callbacks_from_config"]], "get_density_profiles() (in module reflectorch)": [[1, "reflectorch.get_density_profiles"]], "get_loss_dict() (pointestimatortrainer method)": [[1, "reflectorch.PointEstimatorTrainer.get_loss_dict"]], "get_lr() (cosineannealingwithwarmup method)": [[1, "reflectorch.CosineAnnealingWithWarmup.get_lr"]], "get_matching_configs() (huggingfacequerymatcher method)": [[1, "reflectorch.HuggingfaceQueryMatcher.get_matching_configs"]], "get_param_labels() (basicparams method)": [[1, "reflectorch.BasicParams.get_param_labels"]], "get_param_labels() (parametricmodel method)": [[1, "reflectorch.ParametricModel.get_param_labels"]], "get_param_labels() (params method)": [[1, "reflectorch.Params.get_param_labels"]], "get_paths_from_config() (in module reflectorch)": [[1, "reflectorch.get_paths_from_config"]], "get_trainer_by_name() (in module reflectorch)": [[1, "reflectorch.get_trainer_by_name"]], "get_trainer_from_config() (in module reflectorch)": [[1, "reflectorch.get_trainer_from_config"]], "imag_slds (basicparams property)": [[1, "reflectorch.BasicParams.imag_slds"]], "init_bounds() (parametricmodel method)": [[1, "reflectorch.ParametricModel.init_bounds"]], "interp_reflectivity() (in module reflectorch)": [[1, "reflectorch.interp_reflectivity"]], "layers_num2size() (params static method)": [[1, "reflectorch.Params.layers_num2size"]], "load_config() (in module reflectorch)": [[1, "reflectorch.load_config"]], "load_model() (easyinferencemodel method)": [[1, "reflectorch.EasyInferenceModel.load_model"]], "log() (tensorboardlogger method)": [[1, "reflectorch.TensorBoardLogger.log"]], "log() (trainer method)": [[1, "reflectorch.Trainer.log"]], "lr() (trainer method)": [[1, "reflectorch.Trainer.lr"]], "max_layer_num (basicparams property)": [[1, "reflectorch.BasicParams.max_layer_num"]], "max_num_layers (priorsampler property)": [[1, "reflectorch.PriorSampler.max_num_layers"]], "max_num_layers (subpriorparametricsampler property)": [[1, "reflectorch.SubpriorParametricSampler.max_num_layers"]], "module": [[1, "module-reflectorch"]], "num_params (basicparams property)": [[1, "reflectorch.BasicParams.num_params"]], "param_dim (parametricmodel property)": [[1, "reflectorch.ParametricModel.param_dim"]], "param_dim (priorsampler property)": [[1, "reflectorch.PriorSampler.param_dim"]], "param_dim (subpriorparametricsampler property)": [[1, "reflectorch.SubpriorParametricSampler.param_dim"]], "predict() (easyinferencemodel method)": [[1, "reflectorch.EasyInferenceModel.predict"]], "predict_using_widget() (easyinferencemodel method)": [[1, "reflectorch.EasyInferenceModel.predict_using_widget"]], "real_slds (basicparams property)": [[1, "reflectorch.BasicParams.real_slds"]], "reflectivity() (basicparams method)": [[1, "reflectorch.BasicParams.reflectivity"]], "reflectivity() (parametricmodel method)": [[1, "reflectorch.ParametricModel.reflectivity"]], "reflectivity() (params method)": [[1, "reflectorch.Params.reflectivity"]], "reflectivity() (in module reflectorch)": [[1, "reflectorch.reflectivity"]], "reflectorch": [[1, "module-reflectorch"]], "restore() (logaffinecurvesscaler method)": [[1, "reflectorch.LogAffineCurvesScaler.restore"]], "restore() (meannormalizationcurvesscaler method)": [[1, "reflectorch.MeanNormalizationCurvesScaler.restore"]], "restore_params() (priorsampler method)": [[1, "reflectorch.PriorSampler.restore_params"]], "restore_params() (subpriorparametricsampler method)": [[1, "reflectorch.SubpriorParametricSampler.restore_params"]], "roughnesses (basicparams property)": [[1, "reflectorch.BasicParams.roughnesses"]], "sample() (basicsamplerstrategy method)": [[1, "reflectorch.BasicSamplerStrategy.sample"]], "sample() (constrainedroughnessandimgsldsamplerstrategy method)": [[1, "reflectorch.ConstrainedRoughnessAndImgSldSamplerStrategy.sample"]], "sample() (constrainedroughnesssamplerstrategy method)": [[1, "reflectorch.ConstrainedRoughnessSamplerStrategy.sample"]], "sample() (parametricmodel method)": [[1, "reflectorch.ParametricModel.sample"]], "sample() (priorsampler method)": [[1, "reflectorch.PriorSampler.sample"]], "sample() (subpriorparametricsampler method)": [[1, "reflectorch.SubpriorParametricSampler.sample"]], "sampler_strategy (parametricmodel property)": [[1, "reflectorch.ParametricModel.sampler_strategy"]], "save() (meannormalizationcurvesscaler static method)": [[1, "reflectorch.MeanNormalizationCurvesScaler.save"]], "save() (savebestmodel method)": [[1, "reflectorch.SaveBestModel.save"]], "scale() (logaffinecurvesscaler method)": [[1, "reflectorch.LogAffineCurvesScaler.scale"]], "scale() (meannormalizationcurvesscaler method)": [[1, "reflectorch.MeanNormalizationCurvesScaler.scale"]], "scale_params() (priorsampler method)": [[1, "reflectorch.PriorSampler.scale_params"]], "scale_params() (subpriorparametricsampler method)": [[1, "reflectorch.SubpriorParametricSampler.scale_params"]], "scale_q() (constantq method)": [[1, "reflectorch.ConstantQ.scale_q"]], "scale_q() (variableq method)": [[1, "reflectorch.VariableQ.scale_q"]], "scale_resolutions() (smearing method)": [[1, "reflectorch.Smearing.scale_resolutions"]], "scale_with_q() (basicparams method)": [[1, "reflectorch.BasicParams.scale_with_q"]], "scale_with_q() (params method)": [[1, "reflectorch.Params.scale_with_q"]], "set_lr() (trainer method)": [[1, "reflectorch.Trainer.set_lr"]], "simulate_and_plot() (cosineannealingwithwarmup method)": [[1, "reflectorch.CosineAnnealingWithWarmup.simulate_and_plot"]], "size2layers_num() (params static method)": [[1, "reflectorch.Params.size2layers_num"]], "slds (basicparams property)": [[1, "reflectorch.BasicParams.slds"]], "standard_preprocessing() (in module reflectorch)": [[1, "reflectorch.standard_preprocessing"]], "start_training() (cosineannealingwithwarmup method)": [[1, "reflectorch.CosineAnnealingWithWarmup.start_training"]], "start_training() (schedulelr method)": [[1, "reflectorch.ScheduleLR.start_training"]], "start_training() (steplr method)": [[1, "reflectorch.StepLR.start_training"]], "start_training() (trainercallback method)": [[1, "reflectorch.TrainerCallback.start_training"]], "thicknesses (basicparams property)": [[1, "reflectorch.BasicParams.thicknesses"]], "to_np() (in module reflectorch)": [[1, "reflectorch.to_np"]], "to_t() (in module reflectorch)": [[1, "reflectorch.to_t"]], "train() (trainer method)": [[1, "reflectorch.Trainer.train"]], "train_from_config() (in module reflectorch)": [[1, "reflectorch.train_from_config"]], "update_batch_data() (basicdataset method)": [[1, "reflectorch.BasicDataset.update_batch_data"]]}})
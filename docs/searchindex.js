Search.setIndex({"docnames": ["advanced_functionality", "api", "installation", "intro", "training_reflectorch", "using_reflectorch"], "filenames": ["advanced_functionality.ipynb", "api.rst", "installation.ipynb", "intro.md", "training_reflectorch.ipynb", "using_reflectorch.ipynb"], "titles": ["<span class=\"section-number\">4. </span>Advanced functionality", "<span class=\"section-number\">5. </span>API Reference", "<span class=\"section-number\">1. </span>Installation", "Reflectorch", "<span class=\"section-number\">3. </span>Training a reflectorch model", "<span class=\"section-number\">2. </span>Using a trained reflectorch model"], "terms": {"import": [0, 4, 5], "numpi": [0, 1, 2, 4, 5], "np": [0, 1, 4, 5], "torch": [0, 1, 2, 4, 5], "matplotlib": [0, 2, 4, 5], "pyplot": [0, 4, 5], "plt": [0, 4, 5], "from": [0, 1, 2, 3, 5], "ipywidget": [0, 2, 5], "interact": [0, 1, 4, 5], "reflectorch": [0, 1, 2], "extens": [0, 1, 4, 5], "jupyt": [0, 1, 4], "jplotloss": [0, 4], "manual_se": [0, 5], "0": [0, 1, 4, 5], "set": [0, 1, 4, 5], "seed": [0, 5], "reproduc": [0, 5], "In": [0, 1, 4, 5], "thi": [0, 1, 3, 4, 5], "section": [0, 4, 5], "we": [0, 4, 5], "describ": [0, 4, 5], "implement": [0, 1, 3, 4, 5], "i": [0, 1, 2, 3, 4, 5], "e": [0, 1, 2, 3, 4, 5], "other": [0, 1, 3, 4, 5], "than": [0, 1, 4], "standard": [0, 1, 4, 5], "box": [0, 1, 4, 5], "The": [0, 1, 2, 3, 5], "default": [0, 1, 4, 5], "present": 0, "previou": [0, 1, 4], "take": [0, 4, 5], "account": [0, 1, 5], "onli": [0, 1, 5], "real": [0, 1, 4, 5], "part": [0, 3], "neglect": 0, "imaginari": [0, 1], "which": [0, 1, 2, 3, 4, 5], "relat": [0, 3], "scatter": [0, 1, 4, 5], "medium": [0, 1], "while": 0, "reason": [0, 5], "approxim": [0, 4], "mani": 0, "case": [0, 1, 4, 5], "ar": [0, 1, 2, 4, 5], "abl": 0, "alter": 0, "also": [0, 1, 4, 5], "incorpor": [0, 1, 3], "constant": [0, 1, 4], "valu": [0, 1, 4, 5], "each": [0, 1, 4, 5], "layer": [0, 1, 4, 5], "can": [0, 2, 4, 5], "initi": [0, 1, 4, 5], "make": [0, 5], "follow": [0, 2, 4, 5], "chang": [0, 1, 4, 5], "yaml": [0, 1, 5], "configur": [0, 1], "file": [0, 1, 4], "firstli": 0, "model_nam": [0, 1, 4, 5], "argument": [0, 1, 4, 5], "prior": [0, 1, 3, 4, 5], "sampler": [0, 1, 5], "model_with_absorpt": 0, "instead": [0, 1, 4, 5], "standard_model": [0, 4, 5], "addit": [0, 1, 3, 4, 5], "paramet": [0, 1, 3, 4, 5], "rang": [0, 1, 4, 5], "bound": [0, 1, 4, 5], "width": [0, 1, 4, 5], "isld": 0, "must": [0, 1, 4, 5], "specifi": [0, 1, 4, 5], "If": [0, 1, 4, 5], "constrained_isld": 0, "true": [0, 1, 4, 5], "constrain": [0, 1, 4], "exce": [0, 1, 4], "predefin": 0, "fraction": [0, 1, 4], "max_sld_shar": [0, 1], "note": 0, "constrained_rough": [0, 4], "dset": [0, 1, 4, 5], "prior_sampl": [0, 1, 4, 5], "cl": [0, 4, 5], "subpriorparametricsampl": [0, 1, 4], "kwarg": [0, 1, 4, 5], "param_rang": [0, 1, 4, 5], "thick": [0, 1, 4, 5], "300": 0, "rough": [0, 1, 4, 5], "20": [0, 5], "50": [0, 1, 5], "5": [0, 1, 4, 5], "bound_width_rang": [0, 1, 4], "1": [0, 1, 4, 5], "0e": [0, 1, 4], "2": [0, 1, 3, 4, 5], "10": [0, 1, 3, 4, 5], "max_num_lay": [0, 1, 4, 5], "max_thickness_shar": [0, 1, 4], "logdist": [0, 1, 4], "fals": [0, 1, 4, 5], "scale_params_by_rang": [0, 1, 4], "scaled_rang": [0, 1, 4], "devic": [0, 1, 4, 5], "cuda": [0, 1, 2, 4, 5], "For": [0, 1, 2, 4, 5], "without": [0, 1, 5], "neural": [0, 1, 3, 4, 5], "had": 0, "predict": [0, 1, 4, 5], "8": [0, 1, 4, 5], "3": [0, 1, 2, 4, 5], "when": [0, 1, 4, 5], "consid": [0, 1, 4, 5], "have": [0, 1, 5], "output": [0, 1, 4, 5], "sum": 0, "up": 0, "total": [0, 1, 4, 5], "11": [0, 5], "comput": [0, 1, 4, 5], "higher": 0, "number": [0, 1, 3, 4, 5], "analog": 0, "thu": [0, 5], "architectur": [0, 1, 4], "reflect": [0, 1, 3, 4, 5], "input": [0, 1, 3, 4, 5], "dimension": [0, 1], "exampl": [0, 5], "dim_out": [0, 1, 4], "networkwithpriorsconvemb": [0, 1, 4], "pretrained_nam": [0, 4], "null": [0, 4], "in_channel": [0, 1, 4], "hidden_channel": [0, 1, 4], "32": [0, 1, 4, 5], "64": [0, 1, 4, 5], "128": [0, 1, 4, 5], "256": [0, 1, 4, 5], "512": [0, 1, 4], "dim_embed": [0, 1, 4], "dim_avpool": [0, 1, 4], "embedding_net_activ": [0, 1, 4], "gelu": [0, 1, 4, 5], "use_batch_norm": [0, 1, 4], "layer_width": [0, 1, 4], "num_block": [0, 1, 4], "6": [0, 1, 4, 5], "repeats_per_block": [0, 1, 4], "mlp_activ": [0, 1, 4, 5], "dropout_r": [0, 1, 4], "pretrained_embedding_net": [0, 1, 4], "suitabl": 0, "get_trainer_by_nam": [0, 1, 4, 5], "config_nam": [0, 1, 4, 5], "c_absorpt": 0, "load_weight": [0, 1, 4, 5], "load": [0, 1, 5], "84": [0, 5], "m": [0, 4, 5], "observ": [0, 4, 5], "parametr": [0, 1], "modelwithabsorpt": 0, "strategi": [0, 1], "constrainedroughnessandimgsldsamplerstrategi": [0, 1], "loader": [0, 1, 4, 5], "param_model": [0, 1], "sampler_strategi": [0, 1], "data_gener": 0, "parametric_model": 0, "0x20d01396cd0": [], "0x20d01396f40": [], "batch_siz": [0, 1, 4, 5], "simulated_data": [0, 5], "get_batch": [0, 1, 5], "n_layer": [0, 1, 5], "param": [0, 1, 5], "max_layer_num": [0, 1, 5], "n_param": [0, 5], "num_param": [0, 1, 5], "print": [0, 1, 5], "f": [0, 5], "film": [0, 1, 3, 4, 5], "data": [0, 1, 3, 4], "type": [0, 1, 4, 5], "str": [0, 1, 4], "dtype": [0, 1, 5], "img": 0, "properli": 0, "respect": [0, 4, 5], "_is_all_tru": 0, "imag": 0, "item": 0, "complex128": 0, "tensor": [0, 1, 5], "complex": [0, 1], "now": [0, 5], "lead": 0, "round": 0, "edg": 0, "smooth": 0, "off": 0, "oscil": 0, "curv": [0, 1, 3, 4, 5], "q": [0, 1, 4, 5], "to_np": [0, 1], "q_valu": [0, 1, 5], "scaled_noisy_curv": [0, 1, 5], "fig": [0, 5], "ax": [0, 5], "subplot": [0, 5], "figsiz": [0, 5], "12": [0, 5], "set_ylim": [0, 5], "set_xlabel": [0, 5], "\u00e5": [0, 5], "fontsiz": [0, 5], "18": [0, 5], "set_ylabel": [0, 5], "r": [0, 1, 4, 5], "_": 0, "scale": [0, 1, 3, 4, 5], "tick_param": [0, 5], "axi": [0, 1, 5], "both": [0, 1, 4, 5], "major": [0, 5], "labels": [0, 5], "14": [0, 5], "c": [0, 1, 4, 5], "blue": 0, "": [0, 5], "z_axi": [0, 1], "linspac": 0, "200": [0, 5], "1000": [0, 1, 4], "sld_profile_r": 0, "get_density_profil": [0, 1], "sld_profile_imag": 0, "plot": [0, 5], "cyan": 0, "label": [0, 1, 5], "re": 0, "violet": 0, "im": 0, "z": [0, 1], "15": [0, 1, 4, 5], "minor": [0, 5], "legend": [0, 5], "tight_layout": 0, "address": [0, 5], "commonli": 0, "encount": 0, "scenario": [0, 5], "thin": [0, 1, 3, 4, 5], "On": 0, "top": [0, 1, 5], "silicon": [0, 5], "oxid": [0, 5], "substrat": [0, 1, 4, 5], "compos": 0, "ident": 0, "grei": 0, "figur": 0, "consist": [0, 1, 4, 5], "two": [0, 1, 4, 5], "distinct": 0, "A": [0, 1, 4], "sigmoid": 0, "envelop": 0, "modul": [0, 1, 4], "defin": [0, 1, 5], "interfac": [0, 1, 4], "green": 0, "second": [0, 1], "amplitud": [0, 1], "displac": 0, "posit": [0, 1, 5], "first": [0, 1, 4, 5], "red": 0, "These": 0, "allow": [0, 1, 3, 4, 5], "one": [0, 2, 4, 5], "coher": 0, "order": [0, 1, 5], "certain": 0, "get": [0, 1, 5], "incoher": 0, "amorph": 0, "toward": [0, 4], "between": [0, 1, 4, 5], "multilay": [0, 4], "phase": [0, 1, 3], "introduc": [0, 1, 5], "structur": [0, 5], "doe": [0, 4], "necessarili": 0, "17": [0, 5], "physic": [0, 1, 5], "descript": 0, "togeth": [0, 2, 4, 5], "correspond": [0, 1, 2, 5], "alia": [0, 1], "being": [0, 1, 5], "shown": 0, "tabl": 0, "stack": 0, "d_block": 0, "rel": [0, 1, 4], "wrt": 0, "s_block_rel": 0, "r_block": 0, "differ": [0, 1, 4, 5], "dr": 0, "belong": 0, "d_block1_rel": 0, "s_si": 0, "r_si": 0, "d_sio2": 0, "s_sio2": 0, "r_sio2": 0, "r3": 0, "d3_rel": 0, "s3_rel": 0, "d_full_rel": 0, "rel_sigma": 0, "dr_sigmoid_rel_po": 0, "dr_sigmoid_rel_width": 0, "repeating_multilayer_v3": 0, "high": 0, "repres": [0, 4], "maximum": [0, 1, 4, 5], "g": [0, 1, 5], "30": [0, 5], "abov": [0, 4, 5], "show": [0, 4, 5], "subkei": [0, 1, 4, 5], "25": [0, 1, 4, 5], "01": [0, 1, 5], "99": [0, 5], "19": [0, 5], "21": [0, 5], "dimens": [0, 1, 4], "encod": [0, 1], "here": [0, 4, 5], "an": [0, 1, 3, 4, 5], "extend": 0, "c_repeating_multilay": 0, "85": 0, "max": [0, 1, 5], "sld_profil": 0, "cpu": [0, 1, 2, 4, 5], "b": [0, 1, 4, 5], "ground": [0, 4, 5], "truth": [0, 4, 5], "inference_model": [0, 5], "easyinferencemodel": [0, 1, 5], "c_repeating_multilayer_trained1": 0, "d": [0, 5], "github": [0, 2, 5], "project": [0, 3, 5], "config": [0, 1, 4, 5], "found": [0, 1, 5], "local": [0, 1, 5], "weight": [0, 1, 4, 5], "saved_model": [0, 1, 5], "model_c_repeating_multilayer_trained1": 0, "pt": [1, 4, 5], "interv": [0, 1, 4, 5], "min": [0, 1, 5], "wa": [0, 1, 2, 3, 4, 5], "train": [0, 1, 3], "discret": [0, 1, 4, 5], "uniform": [0, 5], "point": [0, 1, 4, 5], "q_min": [0, 1, 4, 5], "02": [0, 1, 4, 5], "q_max": [0, 1, 4, 5], "experiment": [0, 1], "multilayer_data_path": 0, "exp_data": [0, 5], "dip": 0, "nsi_34a": 0, "dat": 0, "open": [], "line": [], "readlin": [], "q_val": 0, "intensity_v": 0, "x": [0, 3, 4], "append": [], "split": [], "t": [0, 5], "arrai": [1, 5], "float": [1, 4, 5], "interp_rang": 0, "interp_point": 0, "q_interp": [0, 1], "min_q_idx": 0, "ab": [0, 1], "argmin": 0, "max_q_idx": 0, "exp_curve_interp": [0, 5], "interp_reflect": [0, 1, 5], "q_model": [0, 5], "q_gener": [0, 1, 4, 5], "prior_bound": [0, 1, 5], "center": [0, 1, 4], "unit": [0, 1, 5], "9": [0, 4, 5], "box1": 0, "16": [0, 1, 5], "05": [0, 1, 4, 5], "box2": 0, "sio2": 0, "si": 0, "prediction_dict": [0, 5], "reflectivity_curv": [0, 1, 5], "clip_predict": [0, 1, 5], "calc_pred_curv": [0, 1, 5], "calc_pred_sld_profil": [0, 1], "pred_param": [0, 5], "predicted_params_arrai": [0, 5], "pred_curv": [0, 5], "predicted_curv": [0, 5], "pred_sld_xaxi": 0, "predicted_sld_xaxi": 0, "pred_sld_profil": 0, "predicted_sld_profil": 0, "param_nam": [0, 5], "param_v": [0, 5], "zip": [0, 5], "ljust": [0, 5], "2f": [0, 5], "set_yscal": [0, 5], "log": [0, 1, 5], "5e": [0, 1, 5], "y_tick_loc": [0, 5], "yaxi": [0, 5], "set_major_loc": [0, 5], "fixedloc": [0, 5], "interp": [0, 5], "exp": [0, 5], "lw": [0, 5], "pred": [0, 5], "loc": [0, 5], "upper": [0, 1, 5], "right": [0, 5], "75": [0, 5], "74": [0, 5], "80": [0, 5], "06": [0, 5], "76": [0, 5], "56": [0, 5], "41": [0, 5], "58": [0, 5], "7": [0, 1, 2, 5], "33": [0, 5], "83": [0, 4], "4": [0, 1, 4, 5], "52": [0, 5], "version": [0, 1, 2, 5], "horizont": 0, "vertic": [0, 1, 4], "model_with_shift": 0, "q_shift": 0, "multipl": [0, 1, 4], "normal": [0, 1, 4, 5], "norm_shift": 0, "500": [0, 1, 4, 5], "002": [0, 1], "004": 0, "modifi": [0, 1], "c_model_with_shift": 0, "modelwithshift": 0, "object": [0, 1, 4, 5], "0x0000020d89eed730": [], "curves_without_shift": 0, "curves_scal": [0, 1, 4, 5], "intens": [0, 1, 4], "origin": [0, 1], "0011754242598062277": 0, "9204985043289542": 0, "role": 0, "process": [0, 1, 4, 5], "produc": [0, 1, 4], "latent": [0, 1, 4], "represent": [0, 1], "fed": 0, "main": 0, "fulli": 0, "connect": [0, 1, 4], "mlp": [0, 1, 4], "obtain": [0, 1, 5], "1d": [0, 1, 4, 5], "cnn": [0, 1, 4, 5], "work": [0, 1, 3], "fix": [0, 1, 4, 5], "been": [0, 1], "alreadi": [0, 1, 5], "explain": 0, "fno": [0, 1, 4, 5], "inspir": 0, "fourier": [0, 1], "oper": [0, 1, 2], "It": [0, 1, 4, 5], "u": 0, "variabl": [0, 1, 4, 5], "base": [0, 1, 3, 4, 5], "ha": [0, 1, 2, 4, 5], "variableq": [0, 1, 4], "constantq": [0, 1, 4], "Its": [0, 4], "q_min_rang": [0, 1], "sampl": [0, 1, 4, 5], "minimum": [0, 1, 4, 5], "q_max_rang": [0, 1], "n_q_rang": [0, 1], "equidistantli": [0, 1], "vari": [0, 1], "batch": [0, 1, 4, 5], "within": [0, 1, 4], "03": [0, 1, 5], "instanc": [0, 1, 4, 5], "networkwithpriorsfnoemb": [0, 1, 5], "class": [0, 1, 4, 5], "keyword": [0, 1, 4], "channel": [0, 1, 4], "should": [0, 1, 4, 5], "width_fno": [0, 1], "block": [0, 1, 4], "n_fno_block": [0, 1], "mode": [0, 1, 2, 4, 5], "util": [0, 1], "activ": [0, 1, 4], "fusion_self_attent": [0, 1], "fusion": [0, 1], "after": [0, 1, 4, 5], "final": [0, 1], "whether": [0, 1, 4], "same": [0, 1, 4], "train_with_q_input": [0, 1, 4], "kei": [0, 1, 4, 5], "enabl": [0, 3, 4], "gradient": [0, 1, 4], "clip": [0, 1, 4, 5], "clip_grad_norm_max": [0, 1, 4], "recommend": [0, 5], "num_iter": [0, 1, 4], "10000": [0, 1, 4], "1024": 0, "lr": [0, 1, 4], "grad_accumulation_step": [0, 1, 4], "c_fno": 0, "embedding_net": [0, 4], "fnoencod": [0, 1], "none": [0, 1, 4, 5], "fc0": 0, "linear": [0, 1, 4], "in_featur": [0, 4], "out_featur": [0, 4], "bia": [0, 1, 4], "spectral_conv": 0, "modulelist": [0, 4], "spectralconv1d": 0, "w_conv": 0, "conv1d": [0, 4], "kernel_s": [0, 4], "stride": [0, 4], "fc_out": 0, "fusionselfattent": 0, "fuser": 0, "sequenti": [0, 4], "tanh": 0, "residualmlp": [0, 4], "first_lay": [0, 4], "272": 0, "residualblock": [0, 4], "batch_norm_lay": [0, 4], "batchnorm1d": [0, 4], "ep": [0, 1, 4], "001": [0, 1, 4], "momentum": [0, 1, 4], "affin": [0, 1, 4], "track_running_stat": [0, 4], "linear_lay": [0, 4], "last_lay": [0, 4], "By": [0, 1, 5], "pointestimatortrain": [0, 1, 5], "whose": 0, "purpos": [0, 1, 2], "regress": [0, 1], "problem": [0, 1, 3], "trainer_cl": 0, "denoisingaetrain": 0, "select": [0, 1, 5], "appropri": 0, "task": 0, "convautoencod": 0, "encoder_hidden_channel": 0, "decoder_hidden_channel": 0, "dim_lat": [0, 1], "decoder_in_s": 0, "num_q_point": [0, 4], "c_ae": 0, "22": [0, 5], "ml": [0, 1, 3, 4, 5], "0x0000020d89ba3e80": [], "convencod": [0, 1, 4], "core": [0, 2, 4], "pad": [0, 4], "1e": [0, 1, 4, 5], "avpool": [0, 4], "adaptiveavgpool1d": [0, 4], "output_s": [0, 4], "fc": [0, 4], "decod": 0, "convdecod": 0, "decoder_input": 0, "2048": [0, 5], "convtranspose1d": 0, "output_pad": 0, "final_lay": 0, "sld": [1, 4, 5], "sourc": 1, "abstractparam": 1, "bottom": [1, 5], "bool": 1, "directli": [1, 2, 4], "option": [1, 2, 4], "appli": [1, 3, 4], "logarithm": [1, 4], "return": [1, 5], "simul": [1, 4, 5], "scale_with_q": 1, "q_ratio": 1, "ratio": 1, "properti": [1, 5], "d_rho": 1, "neighbor": 1, "as_tensor": 1, "use_drho": 1, "convert": [1, 4], "pytorch": [1, 2, 3, 4, 5], "classmethod": 1, "from_tensor": 1, "contain": [1, 4, 5], "static": 1, "size2layers_num": 1, "size": [1, 4, 5], "int": 1, "layers_num2s": 1, "layers_num": 1, "get_param_label": [1, 5], "list": [1, 2, 4, 5], "opposit": 1, "priorsampl": 1, "param_cl": 1, "param_dim": 1, "scale_param": 1, "friendli": [1, 4, 5], "restore_param": [1, 5], "scaled_param": [1, 5], "restor": [1, 5], "basicdataset": 1, "qgener": 1, "intensity_nois": [1, 4], "intensitynoisegener": 1, "q_nois": [1, 4], "qnoisegener": 1, "curvesscal": 1, "calc_denoised_curv": [1, 5], "smear": [1, 4], "reflectometri": 1, "dataset": 1, "gener": [1, 4], "nois": [1, 4, 5], "transfer": [1, 4], "scaler": 1, "logaffinecurvesscal": [1, 4], "add": [1, 4], "dictionari": [1, 4, 5], "update_batch_data": 1, "batch_data": 1, "dict": 1, "basicparam": [1, 5], "subclass": 1, "edit": [1, 2, 4, 5], "inplac": 1, "tupl": [1, 4, 5], "float64": [1, 5], "remove_zero": 1, "fixed_zero": 1, "union": [1, 3], "num_q": 1, "default_devic": 1, "default_dtyp": 1, "do": 1, "includ": [1, 4, 5], "end": 1, "lower": [1, 4], "context": [1, 3], "scale_q": 1, "unscal": [1, 5], "processdata": 1, "multiplicativelognormalnoisegener": 1, "std": 1, "add_to_context": 1, "r_n": 1, "epsilon": 1, "where": [1, 4], "distribut": [1, 2, 4], "sim": 1, "mathcal": 1, "n": 1, "space": [1, 3, 4, 5], "translat": 1, "log_b": 1, "deviat": [1, 4], "all": [1, 4, 5], "provid": [1, 4, 5], "uniformli": [1, 4], "poissonnoisegener": 1, "relative_error": [1, 4], "35": [1, 5], "abs_error": [1, 4], "08": [1, 4, 5], "consistent_rel_err": [1, 4], "poisson": [1, 4], "error": [1, 4], "small": 1, "ad": [1, 4, 5], "prevent": 1, "divis": 1, "zero": 1, "us": [1, 3, 4], "accord": [1, 2, 4, 5], "transform": [1, 4], "log_": [1, 4], "cdot": 1, "factor": [1, 4], "term": 1, "meannormalizationcurvesscal": 1, "path": [1, 4, 5], "curves_mean": 1, "precomput": 1, "mean": [1, 5], "save": [1, 4, 5], "num": 1, "16384": 1, "profil": [1, 4, 5], "deriv": 1, "its": [1, 4, 5], "ambient": 1, "insid": [1, 4, 5], "interlay": [1, 5], "custom": 1, "depth": [1, 3], "densiti": [1, 5], "rho": 1, "drho": 1, "dz": 1, "dq": [1, 4], "gauss_num": [1, 4], "51": [1, 5], "constant_dq": [1, 4], "abeles_func": 1, "function": [1, 3, 4, 5], "abel": 1, "matrix": 1, "formal": 1, "resolut": [1, 4], "gaussian": [1, 4], "callabl": 1, "sigma_rang": [1, 4], "0001": [1, 4], "005": 1, "31": [1, 4, 5], "share_smear": [1, 4], "averag": [1, 4], "neighbour": [1, 4], "interpol": [1, 4, 5], "share": [1, 4, 5], "loglikelihood": 1, "exp_curv": 1, "sigma": 1, "likelihood": 1, "bar": [1, 4], "calc_log_likelihood": 1, "calc_log_posterior": 1, "call": [1, 4, 5], "self": 1, "poissonloglikelihood": 1, "basicexpintensitynois": [1, 4], "scale_rang": [1, 4], "shift_rang": [1, 4], "background_rang": [1, 4], "apply_shift": [1, 4], "apply_sc": [1, 4], "apply_background": [1, 4], "composit": 1, "shift": [1, 4, 5], "background": [1, 4], "combin": [1, 4], "four": [1, 4], "count": [1, 4], "common": [1, 4], "photon": [1, 4], "experi": [1, 3, 4], "equival": [1, 4], "stretch": [1, 4], "compress": [1, 4], "2e": 1, "across": [1, 4], "basicqnoisegener": [1, 4], "shift_std": [1, 4], "noise_std": [1, 4], "systemat": [1, 4], "random": [1, 4], "per": [1, 4], "constantangl": [1, 4], "angle_rang": 1, "257": 1, "wavelength": [1, 4], "measur": [1, 4, 5], "equidist": [1, 4], "angl": [1, 4], "incid": [1, 4], "beam": [1, 4], "angstrom": 1, "scalermixin": 1, "min_bound": 1, "max_bound": 1, "parametricmodel": 1, "compat": [1, 4], "parameter": [1, 4, 5], "store": 1, "well": [1, 3, 4], "subprior": [1, 4], "model": [1, 3], "given": [1, 4, 5], "add_bound": 1, "samplerstrategi": 1, "parametrized_model": 1, "reciproc": [1, 5], "init_bound": 1, "individu": 1, "datatyp": 1, "name": [1, 4, 5], "total_min_bound": 1, "total_max_bound": 1, "total_min_delta": 1, "total_max_delta": 1, "basicsamplerstrategi": 1, "constraint": 1, "mimimum": 1, "w": [1, 4], "constrainedroughnesssamplerstrategi": 1, "thickness_mask": 1, "roughness_mask": 1, "indic": 1, "sld_mask": 1, "isld_mask": 1, "trainer": [1, 5], "nn": 1, "basic_train": 1, "dataload": 1, "logger": [1, 4], "optim_cl": 1, "optim": [1, 4], "adam": 1, "optim_kwarg": [1, 4], "network": [1, 3, 4, 5], "learn": [1, 3, 4], "rate": [1, 4, 5], "clip_grad_norm": 1, "norm": [1, 4], "num_batch": [1, 4], "callback": 1, "trainercallback": 1, "disable_tqdm": 1, "update_tqdm_freq": [1, 4], "start": 1, "iter": [1, 4], "progress": [1, 4], "disabl": 1, "frequenc": [1, 4], "updat": [1, 4], "accumul": [1, 4], "step": [1, 4, 5], "configure_optim": 1, "param_group": 1, "set_lr": [1, 4], "start_train": 1, "end_train": 1, "end_batch": 1, "batch_num": [1, 4], "index": [1, 2, 5], "current": [1, 4, 5], "periodictrainercallback": 1, "last_epoch": [1, 4], "perform": [1, 3, 4, 5], "action": 1, "period": [1, 4], "repeat": [1, 4], "last": [1, 4, 5], "savebestmodel": [1, 4], "freq": [1, 4], "best": [1, 5], "loss": [1, 4], "evalu": [1, 3, 5], "recent": 1, "over": [1, 4], "check": [1, 3], "improv": 1, "disk": 1, "logloss": 1, "printlogg": 1, "consol": 1, "schedulebatchs": 1, "gamma": [1, 4], "schedul": [1, 4], "quantiti": 1, "multipli": [1, 4], "schedulelr": 1, "lr_scheduler_cl": 1, "steplr": [1, 4], "step_siz": [1, 4], "decai": 1, "group": [1, 4], "everi": 1, "epoch": [1, 4], "cycliclr": [1, 4], "base_lr": 1, "max_lr": 1, "step_size_up": 1, "2000": 1, "cycle_momentum": 1, "triangular": 1, "cyclic": 1, "boundari": [1, 3, 4], "cycl": 1, "increas": 1, "half": 1, "invers": [1, 3], "base_momentum": 1, "max_momentum": 1, "exp_rang": 1, "One": 1, "basic": [1, 4], "triangular2": 1, "logcycliclr": [1, 4], "start_period": 1, "domain": 1, "tupe": 1, "reducelronplateau": [1, 4], "patienc": 1, "loss_kei": 1, "total_loss": 1, "reduc": 1, "stop": 1, "decreas": [1, 4], "window": 1, "onecyclelr": [1, 4], "total_step": 1, "pct_start": 1, "div_factor": 1, "final_div_factor": 1, "three_phas": 1, "http": [1, 2], "arxiv": 1, "org": 1, "1708": 1, "07120": 1, "percentag": 1, "spent": 1, "determin": 1, "via": [1, 2, 4, 5], "initial_lr": 1, "min_lr": 1, "1e4": 1, "third": 1, "annihil": 1, "reflectivitydataload": [1, 4], "inherit": 1, "realtimesimtrain": 1, "get_batch_by_idx": 1, "get_batch_by_s": 1, "get_loss_dict": 1, "relu": 1, "embed": [1, 4, 5], "intermedi": 1, "convolut": 1, "adapt": [1, 4], "pool": [1, 4], "ch_in": 1, "use_selu_init": 1, "residu": [1, 4], "adaptive_activ": 1, "condit": 1, "concat": 1, "dropout": [1, 4], "special": 1, "selu": 1, "pretrain": [1, 4, 5], "skip": 1, "manner": [1, 5], "forward": 1, "arr": 1, "python": [1, 2, 3, 4], "ndarrai": 1, "to_t": 1, "float32": 1, "angle_to_q": 1, "scattering_angl": 1, "convers": 1, "full": 1, "degre": 1, "vector": [1, 4], "q_to_angl": 1, "energy_to_wavelength": 1, "energi": 1, "ev": 1, "wavelength_to_energi": 1, "train_from_config": 1, "get_trainer_from_config": 1, "folder_path": 1, "folder": 1, "get_paths_from_config": 1, "mkdir": 1, "directori": [1, 4, 5], "creat": [1, 5], "new": [1, 4], "get_callbacks_from_config": 1, "config_dir": [1, 4, 5], "model_path": 1, "inference_devic": 1, "load_config": 1, "locat": [1, 3, 4, 5], "root_dir": [1, 4, 5], "repo_id": [1, 5], "valentinsingular": [1, 5], "facilit": 1, "infer": [1, 3, 5], "either": [1, 4, 5], "requir": [1, 5], "model_": [1, 4, 5], "root": [1, 4], "subdirectori": [1, 5], "packag": [1, 3, 4, 5], "id": 1, "huggingfac": [1, 4, 5], "repositori": [1, 2, 4, 5], "download": [1, 5], "automat": [1, 2, 5], "load_model": 1, "polish_predict": [1, 5], "fit_growth": [1, 5], "max_d_chang": [1, 5], "use_q_shift": [1, 5], "preprocess": [1, 5], "outsid": [1, 5], "further": [1, 4, 5], "polish": [1, 5], "simpl": 1, "least": [1, 5], "squar": [1, 5], "lm": [1, 5], "fit": [1, 5], "dure": [1, 3, 4, 5], "situ": [1, 3, 5], "growth": [1, 5], "assum": [1, 5], "possibl": [1, 4, 5], "relev": 1, "slightli": [1, 5], "result": [1, 4, 5], "meant": [1, 5], "mitig": [1, 5], "influenc": [1, 5], "imperfect": [1, 5], "align": [1, 5], "greco": [1, 3, 5], "et": [1, 5], "al": [1, 5], "calcul": 1, "async": 1, "predict_using_widget": 1, "widget": [1, 4], "befor": 1, "notebook": [1, 4], "method": [1, 3, 4, 5], "standard_preprocess": 1, "attenu": 1, "beam_width": 1, "sample_length": 1, "min_intens": 1, "beam_shap": 1, "liter": 1, "gauss": 1, "normalize_mod": 1, "incoming_intens": 1, "max_q": 1, "max_angl": 1, "raw": 1, "correct": 1, "footprint": 1, "cut": 1, "length": [1, 5], "remov": 1, "shape": [1, 5], "reflgradientfit": 1, "fit_indic": 1, "rel_err": 1, "abs_err": 1, "07": [1, 5], "thei": [1, 4, 5], "absolut": 1, "run": 1, "prograss": 1, "min_valu": 1, "like": 1, "apply_attenuation_correct": 1, "correct_discontinu": 1, "discontinu": 1, "apply_footprint_correct": 1, "pypi": 2, "pip": 2, "addition": [2, 3, 5], "clone": [2, 5], "entir": [2, 5], "git": 2, "com": 2, "schreiber": [2, 3], "lab": [2, 3], "develop": [2, 3], "build": 2, "test": 2, "document": [2, 5], "doc": 2, "user": [1, 2, 3], "nvidia": 2, "need": [2, 5], "hardwar": 2, "system": [2, 5], "offici": 2, "guid": 2, "websit": 2, "newer": 2, "pyproject": 2, "toml": 2, "scipi": 2, "tqdm": [2, 4], "pyyaml": 2, "click": 2, "torchinfo": [], "huggingface_hub": 2, "analysi": 3, "rai": 3, "neutron": [3, 4], "t\u00fcbingen": 3, "germani": 3, "our": [3, 5], "pipelin": 3, "alongsid": [3, 5], "simultan": 3, "pose": 3, "subinterv": [3, 4], "larger": [3, 4], "would": 3, "otherwis": [1, 3, 4, 5], "ill": 3, "underdetermin": 3, "issu": 3, "primarili": 3, "consequ": 3, "approach": 3, "significantli": 3, "previous": [3, 4, 5], "tackl": 3, "reflectometi": 3, "solut": 3, "perspect": 3, "methodologi": 3, "knowledg": [3, 5], "about": [3, 5], "investig": [3, 5], "time": [3, 4], "pleas": 3, "out": 3, "articl": 3, "publish": 3, "journal": 3, "crystallographi": 3, "inform": 3, "theori": 3, "behind": 3, "close": 3, "loop": 3, "autonom": 3, "machin": 3, "onlin": 3, "synchrotron": 3, "beamlin": 3, "environ": 3, "radiat": 3, "research": 3, "vipr": 3, "05d23vt1": 3, "erumdata": 3, "fund": 3, "german": 3, "feder": 3, "ministri": 3, "scienc": 3, "educ": 3, "bmbf": 3, "partli": 3, "support": [3, 5], "consortium": 3, "daphne4nfdi": 3, "nfdi": 3, "v": 3, "foundat": 3, "munteanu2024": 3, "author": 3, "munteanu": 3, "valentin": 3, "starostin": 3, "vladimir": 3, "alessandro": 3, "pithan": 3, "linu": 3, "gerlach": 3, "alexand": 3, "hinderhof": 3, "kowarik": 3, "stefan": 3, "frank": 3, "titl": 3, "year": 3, "2024": 3, "issn": 3, "1600": 3, "5767": 3, "month": 3, "mar": 3, "volum": 3, "57": [3, 5], "doi": 3, "1107": 3, "s1600576724002115": 3, "intern": 3, "iucr": 3, "page": 3, "more": [3, 5], "instal": [3, 4, 5], "advanc": [3, 4], "api": 3, "refer": 3, "necessari": [4, 5], "saved_models_dir": 4, "get_callbacks_by_nam": 4, "altern": 4, "everyth": 4, "compon": [4, 5], "specif": [4, 5], "read": [4, 5], "sinc": [4, 5], "want": 4, "randomli": [4, 5], "fresh": 4, "c1": 4, "sever": 4, "attribut": [4, 5], "inspect": [4, 5], "adamw": 4, "amsgrad": 4, "beta": 4, "999": 4, "captur": 4, "differenti": 4, "foreach": 4, "fuse": 4, "maxim": 4, "weight_decai": 4, "0005": 4, "easili": [4, 5], "new_lr": 4, "4096": 4, "see": [4, 5], "perceptron": 4, "concaten": [4, 5], "144": 4, "control": 4, "visual": 4, "refresh": 4, "histori": 4, "global": 4, "save_model_nam": 4, "save_path": 4, "toupl": 4, "5000": 4, "100": [1, 4, 5], "accept": 4, "notabl": 4, "place": 4, "regim": 4, "access": [4, 5], "find": 4, "them": [4, 5], "state_dict": 4, "dict_kei": [4, 5], "prev_sav": 4, "best_loss": 4, "net": 4, "saved_dict": 4, "model_state_dict": 4, "load_state_dict": 4, "workflow": 4, "manual": 4, "how": [4, 5], "60": [4, 5], "trainer_kwarg": 4, "save_best_model": 4, "lr_schedul": 4, "use_neptun": 4, "pertain": 4, "respons": 4, "delimit": [0, 4, 5], "b_min": 4, "b_max": 4, "Then": [4, 5], "associ": [4, 5], "bias": 4, "smaller": 4, "those": [1, 4], "gpu": [4, 5], "specifii": 4, "format": [1, 4, 5], "equidistantlli": 4, "avail": [1, 4], "grid": 4, "emul": 4, "due": 4, "misalign": 4, "occur": 4, "uncertainti": 4, "accor": 4, "formula": 4, "r_": 4, "hidden_dim": 4, "neuron": 4, "chosen": 4, "subsect": 5, "illustr": 5, "involv": 5, "resembl": 5, "abstract": 5, "awai": 5, "wish": 5, "match": [1, 5], "slab": 5, "trained_model_nam": 5, "mc1": 5, "next": 5, "13": 5, "37": 5, "entri": 5, "paper": 5, "theoret": 5, "witout": 5, "unscaled_noisy_curv": 5, "unscaled_denoised_curv": 5, "def": 5, "plot_refl_curv": 5, "ensur": 5, "column": 5, "scaled_bound": 5, "sure": 5, "some": 5, "no_grad": 5, "eval": 5, "scaled_predicted_param": 5, "rescal": 5, "along": 5, "restored_predict": 5, "cat": 5, "dim": 5, "pred_idx": 5, "267": 5, "9554": 5, "386": 5, "5484": 5, "8834": 5, "0454": 5, "2722": 5, "23": 5, "1493": 5, "36": 5, "2304": 5, "l2": 5, "189": 5, "28": 5, "126": 5, "42": 5, "230": 5, "66": 5, "l1": 5, "436": 5, "63": 5, "439": 5, "124": 5, "483": 5, "49": 5, "98": 5, "88": 5, "72": 5, "sub": 5, "09": 5, "91": 5, "45": 5, "92": 5, "62": 5, "34": 5, "77": 5, "206": 5, "48": 5, "204": 5, "81": 5, "54": 5, "405": 5, "73": 5, "40": 5, "89": 5, "38": 5, "46": 5, "26": 5, "69": 5, "24": 5, "90": 5, "71": 5, "86": 5, "68": 5, "181": 5, "209": 5, "284": 5, "347": 5, "348": 5, "53": 5, "27": 5, "87": 5, "55": 5, "44": 5, "singl": 5, "mc25": 5, "model_mc25": 5, "procedur": 5, "loaded_data_dict": [], "data_ptcdi": 5, "c3": 5, "curve_exp": 5, "q_exp": 5, "141": 5, "014236805785361413": [], "21345664393805258": [], "knowled": 5, "know": 5, "sit": 5, "perylen": 5, "diimid": 5, "ptcdi": 5, "narrow": 5, "around": 5, "known": 5, "materi": 5, "wide": 5, "min_prior_bound": 5, "max_prior_bound": 5, "400": 5, "convent": 5, "deposit": 5, "aquisit": 5, "slow": 5, "compar": 5, "applic": 5, "predicted_params_object": 5, "polished_params_arrai": 5, "polished_curv": 5, "await": [], "minu": [], "move": [], "slider": [], "side": [], "pred_param_v": 5, "polished_param_v": 5, "194": 5, "188": 5, "00": 5, "43": 5, "orang": 5, "similar": 5, "except": 5, "fulleren": 5, "c60": 5, "data_c60": 5, "159": 5, "97": 5, "try": 5, "mc": 5, "o4": 5, "model_mc": 5, "61": 5, "186": 5, "0x1ddffee0070": [], "0x1ddffee0220": [], "0x000001dda351bd60": [], "0x000001dda3554e80": [], "overwrit": 1, "huggingfacequerymatch": [1, 5], "temporari": [1, 5], "filter": 1, "queri": [1, 5], "hug": 1, "face": 1, "repo": 1, "get_matching_config": [1, 5], "retriev": 1, "pair": [1, 5], "desir": [1, 5], "subrang": [1, 5], "exactli": [1, 5], "matcher": 5, "tempor": [], "minut": 5, "hf_query_match": 5, "valen": [], "appdata": [], "temp": [], "tmp4phjxz15": [], "hierarch": 5, "matching_config": 5, "mc42": 5, "mc43": 5, "mc44": 5, "mc45": 5, "o1": 5, "o10": 5, "o11": 5, "o12": 5, "o2": 5, "o3": 5, "o5": 5, "o7": 5, "o8": 5, "o9": 5, "0x1b1e0fd2100": [], "0x1b1e0fd21f0": [], "0x000001b1f06fabb0": [], "0x000001b1f0735f40": [], "tmp_uy_wa0d": [], "tmpa3beled_": [], "0x1c4b349c190": [], "0x1c4d8daf430": [], "safetensor": [0, 1, 2, 4, 5], "genfromtxt": 0, "skip_head": 0, "unpack": 0, "0x000001c50863aa90": [], "0x000001c4ad7f62e0": [], "fast": 1, "n_point": 1, "exclud": 1, "convert_pt_to_safetensor": [1, 4], "input_dir": 1, "state": [1, 4], "weights_format": [1, 5], "export": 4, "secur": 5, "risk": 5, "loadtxt": 5, "txt": 5, "skiprow": 5, "0142368058": 5, "213456644": 5, "0x2151ec00e80": 0, "0x21544989fa0": 0, "0x000002151ec00610": 0, "0x0000021519ae61f0": 0}, "objects": {"": [[1, 0, 0, "-", "reflectorch"]], "reflectorch": [[1, 1, 1, "", "BasicDataset"], [1, 1, 1, "", "BasicExpIntensityNoise"], [1, 1, 1, "", "BasicParams"], [1, 1, 1, "", "BasicQNoiseGenerator"], [1, 1, 1, "", "BasicSamplerStrategy"], [1, 1, 1, "", "ConstantAngle"], [1, 1, 1, "", "ConstantQ"], [1, 1, 1, "", "ConstrainedRoughnessAndImgSldSamplerStrategy"], [1, 1, 1, "", "ConstrainedRoughnessSamplerStrategy"], [1, 1, 1, "", "ConvEncoder"], [1, 1, 1, "", "CurvesScaler"], [1, 1, 1, "", "CyclicLR"], [1, 1, 1, "", "EasyInferenceModel"], [1, 1, 1, "", "FnoEncoder"], [1, 1, 1, "", "HuggingfaceQueryMatcher"], [1, 1, 1, "", "IntensityNoiseGenerator"], [1, 1, 1, "", "LogAffineCurvesScaler"], [1, 1, 1, "", "LogCyclicLR"], [1, 1, 1, "", "LogLikelihood"], [1, 1, 1, "", "LogLosses"], [1, 1, 1, "", "Logger"], [1, 1, 1, "", "Loggers"], [1, 1, 1, "", "MeanNormalizationCurvesScaler"], [1, 1, 1, "", "MultiplicativeLogNormalNoiseGenerator"], [1, 1, 1, "", "NetworkWithPriorsConvEmb"], [1, 1, 1, "", "NetworkWithPriorsFnoEmb"], [1, 1, 1, "", "OneCycleLR"], [1, 1, 1, "", "ParametricModel"], [1, 1, 1, "", "Params"], [1, 1, 1, "", "PeriodicTrainerCallback"], [1, 1, 1, "", "PointEstimatorTrainer"], [1, 1, 1, "", "PoissonLogLikelihood"], [1, 1, 1, "", "PoissonNoiseGenerator"], [1, 1, 1, "", "PrintLogger"], [1, 1, 1, "", "PriorSampler"], [1, 1, 1, "", "QGenerator"], [1, 1, 1, "", "QNoiseGenerator"], [1, 1, 1, "", "RealTimeSimTrainer"], [1, 1, 1, "", "ReduceLROnPlateau"], [1, 1, 1, "", "ReflGradientFit"], [1, 1, 1, "", "ReflectivityDataLoader"], [1, 1, 1, "", "SamplerStrategy"], [1, 1, 1, "", "SaveBestModel"], [1, 1, 1, "", "ScheduleBatchSize"], [1, 1, 1, "", "ScheduleLR"], [1, 1, 1, "", "Smearing"], [1, 1, 1, "", "StepLR"], [1, 1, 1, "", "SubpriorParametricSampler"], [1, 1, 1, "", "Trainer"], [1, 1, 1, "", "TrainerCallback"], [1, 1, 1, "", "VariableQ"], [1, 5, 1, "", "angle_to_q"], [1, 5, 1, "", "apply_attenuation_correction"], [1, 5, 1, "", "apply_footprint_correction"], [1, 5, 1, "", "convert_pt_to_safetensors"], [1, 5, 1, "", "energy_to_wavelength"], [1, 5, 1, "", "get_callbacks_from_config"], [1, 5, 1, "", "get_density_profiles"], [1, 5, 1, "", "get_paths_from_config"], [1, 5, 1, "", "get_trainer_by_name"], [1, 5, 1, "", "get_trainer_from_config"], [1, 5, 1, "", "interp_reflectivity"], [1, 5, 1, "", "load_config"], [1, 5, 1, "", "q_to_angle"], [1, 5, 1, "", "reflectivity"], [1, 5, 1, "", "standard_preprocessing"], [1, 5, 1, "", "to_np"], [1, 5, 1, "", "to_t"], [1, 5, 1, "", "train_from_config"], [1, 5, 1, "", "wavelength_to_energy"]], "reflectorch.BasicDataset": [[1, 2, 1, "", "get_batch"], [1, 2, 1, "", "update_batch_data"]], "reflectorch.BasicExpIntensityNoise": [[1, 2, 1, "", "apply"]], "reflectorch.BasicParams": [[1, 2, 1, "", "as_tensor"], [1, 2, 1, "", "from_tensor"], [1, 2, 1, "", "get_param_labels"], [1, 3, 1, "", "max_layer_num"], [1, 3, 1, "", "num_params"], [1, 2, 1, "", "reflectivity"], [1, 3, 1, "", "roughnesses"], [1, 2, 1, "", "scale_with_q"], [1, 3, 1, "", "slds"], [1, 3, 1, "", "thicknesses"]], "reflectorch.BasicQNoiseGenerator": [[1, 2, 1, "", "apply"]], "reflectorch.BasicSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.ConstantAngle": [[1, 2, 1, "", "get_batch"]], "reflectorch.ConstantQ": [[1, 2, 1, "", "get_batch"]], "reflectorch.ConstrainedRoughnessAndImgSldSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.ConstrainedRoughnessSamplerStrategy": [[1, 2, 1, "", "sample"]], "reflectorch.EasyInferenceModel": [[1, 2, 1, "", "load_model"], [1, 2, 1, "", "predict"], [1, 2, 1, "", "predict_using_widget"]], "reflectorch.HuggingfaceQueryMatcher": [[1, 2, 1, "", "get_matching_configs"]], "reflectorch.LogAffineCurvesScaler": [[1, 2, 1, "", "restore"], [1, 2, 1, "", "scale"]], "reflectorch.LogCyclicLR": [[1, 2, 1, "", "end_batch"]], "reflectorch.LogLikelihood": [[1, 2, 1, "", "calc_log_likelihood"], [1, 2, 1, "", "calc_log_posterior"]], "reflectorch.LogLosses": [[1, 2, 1, "", "end_batch"]], "reflectorch.MeanNormalizationCurvesScaler": [[1, 2, 1, "", "restore"], [1, 2, 1, "", "save"], [1, 2, 1, "", "scale"]], "reflectorch.MultiplicativeLogNormalNoiseGenerator": [[1, 2, 1, "", "apply"]], "reflectorch.NetworkWithPriorsConvEmb": [[1, 2, 1, "", "forward"]], "reflectorch.NetworkWithPriorsFnoEmb": [[1, 2, 1, "", "forward"]], "reflectorch.ParametricModel": [[1, 2, 1, "", "get_param_labels"], [1, 2, 1, "", "init_bounds"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "reflectivity"], [1, 2, 1, "", "sample"], [1, 3, 1, "", "sampler_strategy"]], "reflectorch.Params": [[1, 2, 1, "", "as_tensor"], [1, 3, 1, "", "d_rhos"], [1, 2, 1, "", "from_tensor"], [1, 2, 1, "", "get_param_labels"], [1, 2, 1, "", "layers_num2size"], [1, 2, 1, "", "reflectivity"], [1, 2, 1, "", "scale_with_q"], [1, 2, 1, "", "size2layers_num"]], "reflectorch.PeriodicTrainerCallback": [[1, 2, 1, "", "end_batch"]], "reflectorch.PointEstimatorTrainer": [[1, 2, 1, "", "get_loss_dict"]], "reflectorch.PoissonLogLikelihood": [[1, 2, 1, "", "calc_log_likelihood"]], "reflectorch.PoissonNoiseGenerator": [[1, 2, 1, "", "apply"]], "reflectorch.PriorSampler": [[1, 4, 1, "", "PARAM_CLS"], [1, 3, 1, "", "max_num_layers"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "restore_params"], [1, 2, 1, "", "sample"], [1, 2, 1, "", "scale_params"]], "reflectorch.RealTimeSimTrainer": [[1, 2, 1, "", "get_batch_by_idx"], [1, 2, 1, "", "get_batch_by_size"]], "reflectorch.ReduceLROnPlateau": [[1, 2, 1, "", "end_batch"]], "reflectorch.ReflGradientFit": [[1, 2, 1, "", "run"]], "reflectorch.SaveBestModel": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "save"]], "reflectorch.ScheduleLR": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "start_training"]], "reflectorch.StepLR": [[1, 2, 1, "", "start_training"]], "reflectorch.SubpriorParametricSampler": [[1, 4, 1, "", "PARAM_CLS"], [1, 3, 1, "", "max_num_layers"], [1, 3, 1, "", "param_dim"], [1, 2, 1, "", "restore_params"], [1, 2, 1, "", "sample"], [1, 2, 1, "", "scale_params"]], "reflectorch.Trainer": [[1, 2, 1, "", "configure_optimizer"], [1, 2, 1, "", "log"], [1, 2, 1, "", "lr"], [1, 2, 1, "", "set_lr"], [1, 2, 1, "", "train"]], "reflectorch.TrainerCallback": [[1, 2, 1, "", "end_batch"], [1, 2, 1, "", "end_training"], [1, 2, 1, "", "start_training"]], "reflectorch.VariableQ": [[1, 2, 1, "", "get_batch"], [1, 2, 1, "", "scale_q"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:property", "4": "py:attribute", "5": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "function", "Python function"]}, "titleterms": {"advanc": 0, "function": 0, "us": [0, 5], "altern": 0, "parameter": 0, "sld": 0, "profil": 0, "model": [0, 4, 5], "absorpt": 0, "period": 0, "repeat": 0, "monolay": 0, "trainer": [0, 4], "infer": 0, "shift": 0, "embed": 0, "network": 0, "api": 1, "refer": 1, "instal": 2, "instruct": 2, "gpu": 2, "support": 2, "packag": 2, "depend": 2, "reflectorch": [3, 4, 5], "citat": 3, "tabl": 3, "content": 3, "train": [4, 5], "The": 4, "loop": 4, "load": 4, "defin": 4, "callback": 4, "run": 4, "from": 4, "termin": 4, "custom": 4, "yaml": 4, "configur": [4, 5], "detail": 5, "synthet": 5, "data": 5, "gener": 5, "appli": 5, "simplifi": 5, "experiment": 5, "filter": 5, "avail": 5, "file": 5}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1, "sphinxcontrib.bibtex": 9, "sphinx": 60}, "alltitles": {"Reflectorch": [[3, "reflectorch"]], "Citation": [[3, "citation"]], "Table of contents": [[3, "table-of-contents"]], "API Reference": [[1, "module-reflectorch"]], "Installation": [[2, "installation"]], "Installation instructions": [[2, "installation-instructions"]], "GPU support": [[2, "gpu-support"]], "Package dependencies": [[2, "package-dependencies"]], "Training a reflectorch model": [[4, "training-a-reflectorch-model"]], "The training loop": [[4, "the-training-loop"]], "Loading the trainer": [[4, "loading-the-trainer"]], "Defining callbacks": [[4, "defining-callbacks"]], "Run the training": [[4, "run-the-training"]], "Training from the terminal": [[4, "training-from-the-terminal"]], "Customizing the YAML configuration for training": [[4, "customizing-the-yaml-configuration-for-training"]], "Advanced functionality": [[0, "advanced-functionality"]], "Using alternative parameterizations of the SLD profile": [[0, "using-alternative-parameterizations-of-the-sld-profile"]], "Model with absorption": [[0, "model-with-absorption"]], "Periodically repeating monolayer": [[0, "periodically-repeating-monolayer"]], "Trainer": [[0, "trainer"]], "Inference": [[0, "inference"]], "Model with shifts": [[0, "model-with-shifts"]], "Using alternative embedding networks": [[0, "using-alternative-embedding-networks"]], "Using alternative trainers": [[0, "using-alternative-trainers"]], "Using a trained reflectorch model": [[5, "using-a-trained-reflectorch-model"]], "Simplified use of a trained reflectorch model on experimental data": [[5, "simplified-use-of-a-trained-reflectorch-model-on-experimental-data"]], "Filtering available configuration files": [[5, "filtering-available-configuration-files"]], "Detailed use of a reflectorch model on synthetic data": [[5, "detailed-use-of-a-reflectorch-model-on-synthetic-data"]], "Generating synthetic data": [[5, "generating-synthetic-data"]], "Applying the model to synthetic data": [[5, "applying-the-model-to-synthetic-data"]]}, "indexentries": {}})